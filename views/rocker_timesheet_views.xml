<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!--
            Views
        -->
        <record id="rocker_timesheet_search" model="ir.ui.view">
            <field name="name">rocker_timesheet_search</field>
            <field name="model">account.analytic.line</field>
            <field name="arch" type="xml">
                <search string="Timesheet">
                    <field name="project_id"/>
                    <field name="task_search"/>
                    <field name="company_id"/>
                    <field name="customer_potential"/>
                    <separator/>
                    <searchpanel view_types="tree,calendar">
                        <!--<field name="task_search" expand="1" hierarchize="1" string="CCPP" icon="fa-folder-open-o"/>-->
                        <!--<field name="customer_potential_id" string="Customer Potential" icon="fa-folder-open-o"/>
                        <field name="project_id" string="Project" icon="fa-folder-open-o"/>
                        <field name="customer_potential" string="Customer Potential" icon="fa-folder-open-o"/>-->
                    </searchpanel>
                    <filter string="Open" name="open" domain="[('state', '=', 'open')]"/>
                    <filter string="Done" name="done" domain="[('state', '=', 'done')]"/>
                    <filter string="Today" name="today" domain="[('stop', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00')),('stop', '&lt;=',datetime.datetime.now().strftime('%Y-%m-%d 23:23:59'))]"/>
                    <!--<filter string="Current Week" name="Current Week" domain="[('stop','&lt;',(context_today()+relativedelta(days=7)).strftime('%Y-%m-%d 23:59:59')), ('stop','&gt;=',context_today().strftime('%Y-%m-%d 00:00:00'))]"/>-->
                    <filter string="This Week" name="this_week" domain="[
                        ('stop','&gt;=',(context_today()+relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d')),
                        ('stop','&lt;',(context_today()+relativedelta(weeks=1,weekday=0)).strftime('%Y-%m-%d'))
                    ]" help="Journal invoices of the current and the last weeks" />
                    <filter string="This Month" name="this_month" domain="[('stop','&lt;',(context_today()+relativedelta(months=1)).strftime('%%Y-%%m-01')), ('stop','&gt;=',time.strftime('%%Y-%%m-01'))]"/>
                    <filter string="This Year" name="this_year" domain="[('stop', '&lt;', (context_today() + relativedelta(years=1, month=1, day=1)).strftime('%Y-%m-%d')), ('stop', '&gt;=', (context_today() + relativedelta(month=1, day=1)).strftime('%Y-%m-%d'))]"/>
                    <filter string="All" name="all" domain="[]"/>
                    <group expand="0" string="Group By">
                        <filter string="Sales Person" name="groupby_sales_person" context="{'group_by': 'employee_id'}"/>
                        <filter string="Month" name="groupby_month" context="{'group_by': 'start:day'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_check_in" model="ir.actions.client">
            <field name="name">Check In</field>
            <field name="tag">check_in_view</field>
            <field name="context">{'active_id': active_id}</field>
            <field name="target">main</field>
        </record>

        <record id="rocker_timesheet_tree" model="ir.ui.view">
            <field name="name">rocker_timesheet_tree</field>
            <field name="model">account.analytic.line</field>
            <field name="arch" type="xml">
                <!--<tree js_class="rocker_tree" string="Timesheets" editable="top" create="true" delete="true" edit="true">-->
                <tree js_class="task_dashboard_list" string="Timesheets" create="false" delete="false" edit="true" class="task_list" expand="0">
                    <field name="is_owner" invisible="1"/>
                    <!-- <button name="update_situation" type="object" string="Check In" class="btn btn-success" icon="fa-sign-in" attrs="{'invisible': [('state','not in',['open'])]}"/> -->
                    <button name="ccpp.action_check_in" type="action" string="Check In" class="btn btn-success" icon="fa-sign-in" attrs="{'invisible': ['|',('state','not in',['open']),('is_owner','=',False)]}"/>
                    <field name="name" string="Task" />
                    <field name="start" required="1" string="From"/>
                    <field name="stop" required="1" string="To"/>
                    <field name="customer_id" domain="[('is_customer','=',True)]" string="Customer"/>
                    <!--<field name="project_id" string="CCPP"/>-->
                    <!--<field name="task_id" string="Solution"/>-->
                    <field name="task_strategy_id" string="Strategy"/>    
                    <field name="display_name" readonly="1" invisible="1"/>
                    <field name="date" required="1" readonly="1" invisible="1" />
                    <field name="unit_amount" widget="float_time" type="measure" invisible="1"/>
                    <field name="duration" required="1" widget="float_time" type="measure" invisible="1"/>
                    <!--<field name="employee_id" readonly="1" optional="show" />-->
                    <field name="department_id" readonly="1" optional="hide" invisible="1"/>
                    <field name="company_id" required="1" readonly="1" optional="hide" invisible="1"/>
                    <field name="user_id"  invisible="1" required="1" readonly="1"/>
                    <field name="allday" invisible="1" />
                    <field name="employee_id" string="User"/>
                    <field name="state_color" invisible="1"/>
                    <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                </tree>
            </field>
        </record>

        <record id="ccpp_account_analytic_line_form" model="ir.ui.view">
            <field name="name">Tasks Form</field>
            <field name="model">account.analytic.line</field>
            <field name="inherit_id" ref="analytic.view_account_analytic_line_form"/>
            <field name="arch" type="xml">
                <xpath expr="//form[1]" position="replace">
                    <form>
                        <header>
                            <!--<button name="update_situation" string="Update Situation" type="object" class="btn-primary" states="open"/>-->
                            <!--<button name="button_done_wizard" string="Check In" type="object" class="btn-success" states="open"/>-->
                            <!--<button name="button_to_open" string="To Open" type="object" class="btn-primary" states="done"/>-->
                            <!--<button name="button_cancel" string="Cancel" type="object"/>-->
                            <field name="state" widget="statusbar"/>
                        </header>
                        <sheet>

                            <div class="oe_button_box" name="button_box">
                                <span style="padding-left:30px; padding-top:5px" class="oe_left">
                                    <h1>Task</h1>
                                </span>
                                <!--<button class="oe_stat_button" name="open_current_situation" type="object" icon="fa-tasks">
                                    <div class="o_field_widget o_stat_info">
                                        <span class="o_stat_text">Current Situation</span>
                                    </div>
                                </button>-->
                            </div>
                            
                            <div class="oe_title" style="padding-top:5px; padding-bottom:10px">
                                <h2>
                                    <label for="name" string=""/>
                                    <field name="name" readonly="True"/>
                                </h2>
                            </div>
                            <field name="is_owner" invisible="1"/>
                            <div class="oe_title">
                                <h1>
                                    <label for="current_action" string="Current Situation"/>
                                    <field name="current_action" class="o_text_overflow" placeholder="Enter Current Situation" required="1" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                                </h1>
                            </div>
                            <div class="oe_title">
                                <h1>
                                    <label for="next_action" string="Next Action"/>
                                    <field name="next_action" class="o_text_overflow" placeholder="Enter Next Action" required="1" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                                </h1>
                            </div>

                            <h2 style="color:gray; font-size:1.2em; padding-top:20px;"> Task Information </h2>
                            <div style="border-top: 2px solid #e6e6e6;padding: 0px;;margin-top: 10px; margin-bottom: 10px; padding-top:15px;"/>  

                            <group>
                                <group>
                                    <field name="priority_id" readonly="True" options="{'no_open':True}"/>
                                    <field name="customer_id" domain="[('is_customer','=',True)]" string="Customer" readonly="True" options="{'no_open':True}"/>
                                    <field name="start" required="1" string="From" readonly="True"/>
                                    <field name="stop" required="1" string="To" readonly="True"/>
                                    <field name="employee_id" readonly="True" invisible="True"/>
                                    <field name="location" readonly="True"/>
                                    <field name="is_diff_distance" readonly="True" invisible="True"/>
                                    <!--<field name="diff_distance" readonly="True" attrs="{'invisible': [('is_diff_distance','=',False)]}" />-->
                                    <field name="diff_distance" readonly="True" invisible="True" />
                                </group>
                                <group>
                                    <field name="project_id" string="CCPP" readonly="True" options="{'no_open':True}"/>
                                    <field name="task_id" string="Solution" readonly="True" options="{'no_open':True}"/>
                                    <field name="task_strategy_id" string="Strategy" readonly="True" options="{'no_open':True}"/>
                                    <field name="checkin_date" string="Check In Date" readonly="True"/>
                                </group>
                                
                            </group>  
                            <notebook>
                                <page name="note" string="Note">
                                    <field name="note"/>
                                </page>
                                <page name="task_team" string="Task Team">
                                    <field name="job_ids" options="{'no_create_edit':True}">
                                        <tree editable="bottom">
                                            <field name="employee_id" string="User" widget="many2one_avatar_user" readonly="1"/>
                                            <field name="name" string="Job Position" readonly="1"/>
                                        </tree>
                                    </field>
                                </page>
                                <page name="log_page" string="Log">
                                    <field name="log_lines" readonly="True">
                                        <tree edit="false" create="false" delete="false">
                                            <field name="sequence"/>
                                            <field name="log_text"/>
                                            <field name="user_id" widget="many2one_avatar"/>
                                            <field name="date"/>
                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                        </sheet>
                        <div class="oe_chatter">
                            <field name="message_follower_ids" groups="base.group_user"/>
                            <field name="activity_ids"/>
                            <field name="message_ids"/>
                        </div>
                    </form>
                </xpath>
            </field>
        </record>

        <record id="action_ccpp_account_analytic_line_form" model="ir.actions.act_window">
            <field name="name">Check In</field>
            <field name="res_model">account.analytic.line</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="ccpp_account_analytic_line_form"/>
            <field name="search_view_id" ref="rocker_timesheet_search"/>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No timesheets found. Let's start a new one!
                </p>
                <p>
                    Track your working hours by projects every day.
                </p>
            </field>
        </record>

        <record id="ccpp_account_analytic_line_log_form" model="ir.ui.view">
            <field name="name">Tasks Log Form</field>
            <field name="model">account.analytic.line.log</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <form delete="false" edit="false" create="false">
                    <sheet>
                        <h2 style="color:gray; font-size:1.2em; padding-top:10px;"> Task Log Information </h2>
                        <div style="border-top: 2px solid #e6e6e6;padding: 0px;;margin-top: 10px; margin-bottom: 10px;"/>  

                        <group>
                            <group>
                                <field name="name_from" readonly="True"/>
                                <field name="priority_id_from" readonly="True"/>
                                <field name="customer_id_from" readonly="True"/>
                                <field name="start_from" readonly="True"/>
                                <field name="stop_from" readonly="True"/>
                                <field name="project_id_from" readonly="True"/>
                                <field name="task_id_from" readonly="True"/>
                                <field name="task_strategy_id_from" readonly="True"/>
                            </group>
                            <group>
                                
                                <field name="name_to" readonly="True"/>
                                <field name="priority_id_to" readonly="True"/>
                                <field name="customer_id_to" readonly="True"/>
                                <field name="start_to" readonly="True"/>
                                <field name="stop_to" readonly="True"/>
                                <field name="project_id_to" readonly="True"/>
                                <field name="task_id_to" readonly="True"/>
                                <field name="task_strategy_id_to" readonly="True"/>
                            </group>
                            
                        </group>  
                        <group>
                            <group>
                                <field name="user_id" widget="many2one_avartar" readonly="True"/>
                                <field name="date" readonly="True"/>
                            </group>
                        </group>
                        
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_open_project_edit_form" model="ir.actions.server">
            <field name="name">Edit CCPP</field>
            <field name="model_id" ref="ccpp.model_project_project"/>
            <!--            <field name="type">ir.actions.server</field>-->
            <field name="state">code</field>
            <field name="code">action = model.open_project_edit_form()</field>
        </record>

        <record id="action_open_solution_strategy_edit_form" model="ir.actions.server">
            <field name="name">Edit Solution/Strategy</field>
            <field name="model_id" ref="ccpp.model_project_task"/>
            <field name="state">code</field>
            <field name="code">action = model.open_solution_strategy_edit_form()</field>
        </record>

        <record id="rocker_project_tree" model="ir.ui.view">
            <field name="name">Edit Project types</field>
            <field name="model">project.project</field>
            <field name="priority" eval="100"/>
            <field name="arch" type="xml">
                <tree editable="top" create="false" delete="false" import="false" string="Projects">
                    <button type="action" name="ccpp.action_open_project_edit_form" icon="fa-folder-open-o" string=" " class="oe_highlight"/>
                    <field name="name" readonly="1"/>
                    <field name="rocker_type" readonly="0"/>
                    <!--<field name="allow_timesheets" readonly="0"/>-->
                    <field name="privacy_visibility" readonly="0"/>
                    <field name="user_id" readonly="1"/>
                    <field name="company_id" readonly="1"/>
                </tree>
            </field>
        </record>

        <!--<record id="rocker_edit_project" model="ir.ui.view">
            <field name="name">rocker.project.edit.form</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@id='rating_settings']/.." position="before">
                    <div class="row mt16 o_settings_container">
                        <div class="col-lg-6 o_setting_box"  id="rocker_settings">
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="rocker_type" string="Project type"/>
                                <field name="rocker_type"/>
                                <div class="text-muted">
                                    Type of a project, Used in Rocker Timesheets (filter Projects and Tasks)
                                </div>
                            </div>
                        </div>
                    </div>
                </xpath>

            </field>
        </record>-->

        <record id="rocker_project_task_tree" model="ir.ui.view">
            <field name="name">Tasks</field>
            <field name="model">rocker.task</field>
            <field name="arch" type="xml">
                <tree string="Projects and Tasks" create="false" delete="false" edit="false">
                    <field name="project_id" readonly="1"/>
                    <field name="task_id" readonly="1"/>
                    <field name="parent_id" readonly="1"/>
                </tree>
            </field>
        </record>

        <record id="customer_potential_tree" model="ir.ui.view">
            <field name="name">Customer Potential</field>
            <field name="model">customer.potential</field>
            <field name="arch" type="xml">
                <tree string="Customer Potential" create="false" delete="false" edit="false">
                    <field name="name" readonly="1"/>
                    <field name="partner_id" readonly="1"/>
                </tree>
            </field>
        </record>

        <record id="rocker_timesheet_form" model="ir.ui.view">
            <field name="name">rocker_timesheet_form</field>
            <field name="model">account.analytic.line</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="Tasks" class="calendar_date_picker">
                    <header>
                        <button name="duplicate_task" string="Duplicate" type="object" class="btn-primary" attrs="{'invisible': [('id', '=', False)]}"/>
                    </header>
                    <sheet>
                        <field name="is_owner" invisible="1"/>
                        <div class="oe_title">
                            <div class="oe_edit_only">
                                <label for="name" string="Task"/>
                            </div>
                            <h1>
                                <field name="name" placeholder="Enter Task" class="font-weight-bold" required="True" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                            </h1>
                        </div>
                        <!--<label for="company_id" string="for Company: " />-->
                        <field name="company_id" required="1" readonly="1" invisible="1"/>
                        <div class="o_row">
                            <field name="is_go_ccpp_customer" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                            <label for="is_go_ccpp_customer" string="CCPP Customer"/>   
                            <field name="is_go_potential" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                            <label for="is_go_potential" string="Potential"/>     
                        </div>

                        
                        <notebook>
                            <page name="page_details" string="Details">
                                <group>
                                    <group>
                                        <field name="id" invisible="True"/>
                                        <field name="priority_id" attrs="{'invisible': [('is_go_ccpp_customer','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)]}" options="{'no_open':True, 'no_create':True}"/>
                                        <field name="customer_id" string="Customer" 
                                        attrs="{'invisible': [('is_go_potential','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)]}"
                                        options="{'no_create':True, 'no_open':True}"
                                        context="{'show_rank':True, 'order_display': 'potential_ranking'}"
                                        domain="[('id','in',domain_customer_ids)]"/>
                                        <field name="customer_id" string="Customer" 
                                        attrs="{'invisible': [('is_go_ccpp_customer','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)]}"
                                        options="{'no_create':True, 'no_open':True}"
                                        domain="[('id','in',domain_customer_ids)]"/>
                                        <field name="start" string="From" invisible="0" required="1" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                                        <field name="stop" string="To" invisible="0" required="1" attrs="{'readonly': [('is_owner','=',False),('id','!=',False)]}"/>
                                        <field name="domain_customer_ids" invisible="True"/>
                                        
                                        <!--<label for="daystocreateshow" string="Generate" attrs="{'invisible':[('daystocreateshow','&lt;',2)]}"/>
                                        <div attrs="{'invisible':[('daystocreateshow','&lt;',2)]}">
                                            <field name="daystocreateshow"  string=" more Timesheet rows for next days" class="oe_inline"  readonly="1"/>
                                            <span> more timesheet rows for next coming days</span>
                                        </div>
                                        <label for="duration"  string="Duration" invisible="0"/>
                                        <div>
                                            <field name="duration" widget="float_time" string="Duration" class="oe_inline" invisible="0" required="1" readonly="0"/>
                                            <span attrs="{'invisible':[('daystocreateshow','!=',0)]}"> hours</span>
                                            <span attrs="{'invisible':[('daystocreateshow','=',0)]}"> hours per day</span>
                                        </div>
                                        <field name="allday" invisible="1"/>-->
                                    </group>
                                    <group>
                                        <field name="domain_ccpp_ids" invisible="True"/>
                                        <field name="domain_solution_ids" invisible="True"/>
                                        <field name="domain_strategy_ids" invisible="True"/>

                                        <field name="temp_project_id" required="0" string="CCPP" domain="[('id','in',domain_ccpp_ids)]"
                                        attrs="{'invisible': [('is_go_ccpp_customer','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)]}"
                                        options="{'no_create':True, 'no_open':True}"/>
                                        <field name="project_id" invisible="True"/>
                                        <field name="temp_task_id" required="0" string="Solution"
                                                domain="[('project_id', '=', project_id), 
                                                         ('is_solution', '=', True),
                                                         ('state', '=', 'process')]"
                                                attrs="{'invisible': [('is_go_ccpp_customer','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)]}"
                                                options="{'no_create':True, 'no_open':True}"/>
                                        <field name="task_id" invisible="True"/>
                                        <field name="task_strategy_id" string="Strategy"
                                                domain="[('project_id', '=', project_id),
                                                         ('parent_id', '=', task_id),
                                                         ('is_strategy', '=', True),
                                                         ('state', '=', 'process')]"
                                                attrs="{'invisible': [('is_go_ccpp_customer','=',False)], 'readonly': [('is_owner','=',False),('id','!=',False)], 'no_open':True}"
                                                options="{'no_create':True}"/>
                                        <!--<label for="unit_amount"  string="Actual Work" invisible="0"/>
                                        <div>
                                            <field name="unit_amount" invisible="0" required="1" widget="float_time" class="oe_inline" readonly="0"/>
                                            <span> hours</span>
                                        </div>-->
                                        <field name="date" invisible="1"/>
                                    </group>
                                </group>
                            </page>
                            <!-- <page name="task_team" string="Task Team">
                                <field name="job_ids" options="{'no_create_edit':True}">
                                    <tree editable="bottom">
                                        <field name="employee_id" string="User" widget="many2one_avatar_user" readonly="1"/>
                                        <field name="name" string="Job Position" readonly="1"/>
                                    </tree>
                                </field>
                            </page> -->
                            <page name="task_team" string="Task Team">
                                <field name="employee_ids" options="{'no_create_edit':True}">
                                    <tree editable="bottom">
                                        <field name="user_id" string="User" widget="many2one_avatar_user" readonly="1"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <!--<xpath expr="//footer" position="inside">
                            <button name="duplicate_task" string="Duplicate" type="object" class="btn-primary"/>
                        </xpath>-->

                        <!--<footer>
                            <button name="update_situation" string="Update Situation" type="object" class="btn-primary" context="{'task_id': id}"/>
                        </footer>-->
                    </sheet>
                </form>
            </field>
        </record>

          <record id="rocker_timesheet_calendar" model="ir.ui.view">
            <field name="name">rocker_timesheet_calendar</field>
            <field name="model">account.analytic.line</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <calendar js_class="ccpp_calendar" string="Tasks"
                          form_view_id="%(ccpp.rocker_timesheet_form)d"
                          date_start="start" date_stop="stop" date_delay="duration"
                          all_day="allday" color="state"
                          mode="month"
                          quick_add="false"
                          delete="false"
                          event_open_popup = "%(ccpp.rocker_timesheet_form)s"
                          show_unusual_days="true"
                          hide_time="false">
                    <!--<field name="display_name"/>-->
                    <field name="customer_id" options="{'no_open':True}"/>
                    <field name="project_id" required="1" string="CCPP" options="{'no_open':True}"/>
                    <field name="task_id" required="1" string="Solution" options="{'no_open':True}"/>
                    <field name="task_strategy_id" required="1" string="Strategy" options="{'no_open':True}"/>
                    <field name="employee_id" string="User" filters="1" options="{'no_open':True}"/>
                    <field name="job_id" string="Job Position" options="{'no_open':True}"/>
                    <field name="state_char" filters="1" string="State" options="{'no_open':True}"/>
                    
                    <field name="unit_amount" required="1" invisible="1"/>
                    <field name="rocker_type" invisible="1"/>
                   
                    
<!--                    <field name="company_id" required="1" readonly="1" optional="show" groups="base.group_multi_company"/>-->
                    <!--<field name="company_id" required="1" readonly="1"/>-->
                    <!--<button name="update_situation" string="Update Situation" type="object" class="btn-primary"/>-->
                </calendar>

             </field>
        </record>

        <record id="rocker_company_view_form_simplified" model="ir.ui.view">
            <field name="name">rocker.company.view.form.simplified</field>
            <field name="model">rocker.company.defaults</field>
            <field name="arch" type="xml">
                <form string="Company" save="true" discard="false" create="false" delete="false">
                    <div class="oe_title">
                        <h1>
                            <field name="company_name" readonly="1" class="font-weight-bold"/>
                        </h1>
                    </div>
                    <hr></hr>
                    <div>
                        <h3>Timesheet Settings</h3>
                    </div>
                    <group col="2">
                        <div/>
                        <field name="company_id" invisible="1" readonly="1"/>
                        <field name="rocker_default_start" required="1" widget="float_time" invisible="1"/>
                        <field name="rocker_default_stop" required="1" widget="float_time" invisible="1"/>
                        <field name="rocker_default_startToShow" required="1" widget="float_time" style="width: 30%%"/>
                        <field name="rocker_default_stopToShow" required="1" widget="float_time" style="width: 30%%"/>
                        <field name="rocker_default_work" required="1" widget="float_time" style="width: 30%%" />
                        <field name="rocker_default_rolling_work" required="1" widget="float_time" style="width: 30%%" />
                        <field name="rocker_round_up" required="1"  style="width: 30%%"  />
                    </group>
                        <div class="row">
                            <div class="text-muted col-md-12">
                                Start and Stop are stored in UTC timezone into database.<br></br>
                                Work can be different than Duration (Stop - Start) (- lunch hours etc.)
                            </div>
                        </div>
                </form>
            </field>
        </record>

        <record id="rocker_user_view_form_simplified" model="ir.ui.view">
            <field name="name">rocker.user.view.form.simplified</field>
            <field name="model">rocker.user.defaults</field>
            <field name="arch" type="xml">
                <form string="User" save="true" discard="true" create="false" delete="true" >
                    <div class="oe_title">
                        <h1>
                            <field name="user_name" readonly="1" class="font-weight-bold"/>
                        </h1>
                    </div>
                    <group col="2">
                        <field name="user_id" required="1" invisible="1" readonly="1"/>
                        <field name="company_id" string="Company" required="1" invisible="0" readonly="1" />
                        <field name="department_id" string="Department" invisible="0" readonly="1"/>
                        <field name="employee_id" string="Employee" invisible="0" readonly="1"/>
                    </group>
                    <hr></hr>
                    <div>
                            <h3>Timesheet Settings</h3>
                    </div>
                    <div/>
                    <group col="4" >
                        <field name="rocker_default_start" required="1" widget="float_time" invisible="1"/>
                        <field name="rocker_default_stop" required="1" widget="float_time" invisible="1"/>
                        <field name="rocker_default_startToShow" required="1" widget="float_time" style="width: 30%%" />
                        <field name="rocker_default_stopToShow" required="1" widget="float_time" style="width: 30%%"/>
                        <field name="rocker_default_work" required="1" widget="float_time" style="width: 30%%"/>
                        <field name="rocker_default_rolling_work" required="1" widget="float_time" style="width: 30%%"/>
                        <field name="rocker_round_up" required="1" style="width: 30%%"/>
                    </group>
                    <div class="row">
                        <div class="text-muted col-md-12">
                            Start and Stop are stored in UTC timezone into database.<br></br>
                            Work can be different than Duration (Stop - Start) (- lunch hours etc.)<br></br>
                            If Start and Stop values not found, Company defaults are used.
                        </div>
                    </div>
                    <hr></hr>
                    <div>
                        <h3>Calendar Settings</h3>
                    </div>
                    <div/>
                    <group col="4" >
                        <field name="rocker_calendar_mintime" required="1"  style="width: 30%%"  />
                        <field name="rocker_calendar_maxtime" required="1"  style="width: 30%%"  />
                        <field name="rocker_calendar_slot" required="1"  style="width: 30%%"  />
                        <field name="rocker_calendar_default_view" required="1"  style="width: 30%%"  />
                    </group>
                </form>
            </field>
        </record>


        <!--
            Actions
        -->

        <record id="act_rocker_timesheet_tree" model="ir.actions.act_window">
            <field name="name">Check In</field>
            <field name="res_model">account.analytic.line</field>
            <field name="domain"></field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="rocker_timesheet_tree"/>
            <field name="search_view_id" ref="rocker_timesheet_search"/>
            <field name="context">{'search_default_groupby_month': 0, 'search_default_open': 0, 'search_default_today': 1}</field>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Task found.
                </p>
            </field>
        </record>

        

        <record id="act_rocker_timesheet_tree_by_user" model="ir.actions.act_window">
            <field name="name">Tasks</field>
            <field name="res_model">account.analytic.line</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="rocker_timesheet_tree"/>
            <field name="search_view_id" ref="rocker_timesheet_search"/>
            <field name="context">{'search_default_groupby_sales_person': 1, 'search_default_groupby_month': 1, 'search_default_open': 1}</field>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No timesheets found. Let's start a new one!
                </p>
                <p>
                    Track your working hours by projects every day.
                </p>
            </field>
        </record>

        <record id="act_rocker_project" model="ir.actions.act_window">
            <field name="name">Edit project types</field>
            <field name="res_model">project.project</field>
            <field name="domain">[]</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="rocker_project_tree"/>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No projects found.
                </p>
                <p>
                    Track your projects every day.
                </p>
            </field>
        </record>

        <record id="act_rocker_project_task" model="ir.actions.act_window">
            <field name="name">Tasks</field>
            <field name="res_model">rocker.task</field>
            <field name="domain">[]</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="rocker_project_task_tree"/>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No projects found.
                </p>
                <p>
                    Track your projects every day.
                </p>
            </field>
        </record>

        <record id="customer_potential_action" model="ir.actions.act_window">
            <field name="name">Customer Potential</field>
            <field name="res_model">customer.potential</field>
            <field name="domain">[]</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="customer_potential_tree"/>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No projects found.
                </p>
                <p>
                    Track your projects every day.
                </p>
            </field>
        </record>

        <record id="act_rocker_timesheet_calendar" model="ir.actions.act_window">
            <field name="name">Tasks</field>
            <field name="res_model">account.analytic.line</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="view_id" ref="rocker_timesheet_calendar"/>
            <field name="search_view_id" ref="rocker_timesheet_search"/>

            <field name="target">main</field>
            <field name="domain"></field>
            <field name="context"></field>
        </record>

        <record id="act_rocker_timesheet_company" model="ir.actions.server">
            <field name="name">Edit Company defaults</field>
            <field name="model_id" ref="ccpp.model_rocker_company_defaults"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.edit_rocker_company_defaults()</field>
        </record>
        <record id="act_rocker_timesheet_user" model="ir.actions.server">
            <field name="name">Edit User defaults</field>
            <field name="model_id" ref="ccpp.model_rocker_user_defaults"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.edit_rocker_user_defaults()</field>
        </record>

        <record id="action_view_rocker_timesheet_calendar" model="ir.actions.act_window.view">
            <field name="act_window_id" ref="act_rocker_timesheet_calendar"/>
            <field name="sequence" eval="1"/>
            <field name="view_mode">calendar</field>
            <field name="view_id" ref="rocker_timesheet_calendar"/>
        </record>
        <record id="action_view_rocker_timesheet_calendar_tree" model="ir.actions.act_window.view">
            <field name="act_window_id" ref="act_rocker_timesheet_calendar"/>
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="rocker_timesheet_tree"/>
        </record>
        <record id="action_view_rocker_timesheet_calendar_form" model="ir.actions.act_window.view">
            <field name="act_window_id" ref="act_rocker_timesheet_calendar"/>
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="rocker_timesheet_form"/>
        </record>

        <!--<record id="action_rocker_about_timesheet" model="ir.actions.server">
            <field name="name">Show About</field>
            <field name="model_id" ref="model_rocker_timesheet_about"/>
            <field name="state">code</field>
            <field name="code">action = model._show_about()</field>
        </record>-->

        <record id="action_searchpanel_all_tasks" model="ir.actions.server">
            <field name="name">Search Panel All Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('all')</field>
        </record>
        <record id="action_searchpanel_member_tasks" model="ir.actions.server">
            <field name="name">Search Panel Member Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('member')</field>
        </record>
        <record id="action_searchpanel_billable_tasks" model="ir.actions.server">
            <field name="name">Search Panel Billable Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('billable')</field>
        </record>
        <record id="action_searchpanel_nonbillable_tasks" model="ir.actions.server">
            <field name="name">Search Panel Non Billable Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('nonbillable')</field>
        </record>
        <record id="action_searchpanel_internal_tasks" model="ir.actions.server">
            <field name="name">Search Panel Internal Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('internal')</field>
        </record>
        <record id="action_searchpanel_mine_tasks" model="ir.actions.server">
            <field name="name">Search Panel My Tasks</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.searchpanel_all('mine')</field>
        </record>
        <record id="action_create_rolling" model="ir.actions.server">
            <field name="name">Create Rolling Timesheet row</field>
            <field name="model_id" ref="ccpp.model_account_analytic_line"/>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="code">action = model.create_rolling()</field>
        </record>


        <!--
           Menus
       -->
<!--        <menuitem id="rocker_timesheet_menu_root"-->
<!--                  name="Rocker Timesheets"-->
<!--                  sequence="5"-->
<!--                  groups="group_rocker_timesheet_user"-->
<!--                  web_icon="rocker_timesheet,static/description/icon_timesheet.png"/>-->
        <!--                  parent="rocker_timesheet_menu_root"-->

<!--using hr_timesheet menu-->
        <menuitem id="rocker_timesheet_menu_timesheet"
                  name="Rocker"
                  parent="hr_timesheet.timesheet_menu_root"
                  sequence="3"
                  groups="hr_timesheet.group_hr_timesheet_user"/>

        <menuitem id="timesheet_menu_calendar"
                  name="Dashboard"
                  parent="rocker_timesheet_menu_timesheet"
                  action="act_rocker_timesheet_calendar"
                  sequence="6"
                  groups="hr_timesheet.group_hr_timesheet_user"/>

        <menuitem id="rocker_timesheet_menu_settings"
                  name="Settings"
                  parent="rocker_timesheet_menu_timesheet"
                  sequence="7"
                  groups="hr_timesheet.group_hr_timesheet_user"/>

        <menuitem id="timesheet_menu_company"
                  name="Company defaults"
                  parent="rocker_timesheet_menu_settings"
                  action="act_rocker_timesheet_company"
                  sequence="71"
                  groups="hr_timesheet.group_timesheet_manager"/>

       <menuitem id="timesheet_menu_user"
                  name="User defaults"
                  parent="rocker_timesheet_menu_settings"
                  action="act_rocker_timesheet_user"
                  sequence="72"
                 groups="hr_timesheet.group_hr_timesheet_user"/>

        <menuitem id="menu_rocker_timesheet_about"
                  name="About"
                  parent="rocker_timesheet_menu_timesheet"
                  sequence="90"
                  groups="hr_timesheet.group_hr_timesheet_user"/>

        <!--<menuitem id="menu_rocker_timesheet_about_show"
                  name="Rocker Timesheet..."
                  action="action_rocker_about_timesheet"
                  parent="menu_rocker_timesheet_about"
                  sequence="1"
                  groups="hr_timesheet.group_hr_timesheet_user"/>-->

        <menuitem id="rocker_timesheet_menu_project_task"
                  name="Project settings"
                  parent="rocker_timesheet_menu_timesheet"
                  sequence="8"
                  groups="hr_timesheet.group_timesheet_manager"/>

        <menuitem id="rocker_timesheet_menu_projects"
                  name="Edit Project types"
                  parent="rocker_timesheet_menu_project_task"
                  action="act_rocker_project"
                  sequence="1"
                  groups="hr_timesheet.group_timesheet_manager"/>
    </data>
</odoo>
