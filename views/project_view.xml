<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="view_task_calendar_inherit_ccpp" model="ir.ui.view">
        <field name="name">view.task.calendar.inherit.ccpp</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_calendar"/>
        <field name="arch" type="xml">
            <xpath expr="//calendar" position="attributes">
                <attribute name="scales">day,week,month,year</attribute>
            </xpath>
        </field>
    </record>

    <!-- project update -->
    <record id="strategy_update_all_action" model="ir.actions.act_window">
        <field name="name">Strategy Updates</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="domain">[('strategy_id', '=', active_id)]</field>
        <field name="context">{'update_strategy': True}</field>
        <field name="view_mode">form</field>
    </record>

    <!-- project update -->
    <record id="task_timesheet_update_all_action_tree" model="ir.actions.act_window">
        <field name="name">Task Updates</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="domain">[('task_id', '=', active_id)]</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="task_timesheet_update_all_action_form" model="ir.actions.act_window">
        <field name="name">Task Updates</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="context">{'update_task': True}</field>
        <field name="view_mode">form</field>
    </record>

    <!-- project update -->
    <record id="ccpp_project_update_action" model="ir.actions.act_window">
        <field name="name">Current Situation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="view_mode">tree,form,kanban</field>
    </record>

    <!-- project update -->
    <record id="ccpp_update_all_action" model="ir.actions.act_window">
        <field name="name">Current Situation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="domain">[('project_id', '=', active_id)]</field>
        <field name="context">{'search_default_groupby_solution_id': 1}</field>
        <field name="search_view_id" ref="project.project_update_view_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            No updates found. Let's create one!
            </p><p>
            Get a snapshot of the status of your project and share its progress with key stakeholders.
            </p>
        </field>
    </record>

    <!-- project update -->
    <record id="solution_update_all_action" model="ir.actions.act_window">
        <field name="name">Current Situation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="domain">[('solution_id', '=', active_id)]</field>
        <field name="context">{'search_default_groupby_solution_id': 1}</field>
        <field name="search_view_id" ref="project.project_update_view_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            No updates found. Let's create one!
            </p><p>
            Get a snapshot of the status of your project and share its progress with key stakeholders.
            </p>
        </field>
    </record>

    <!-- project update -->
    <record id="task_update_all_action" model="ir.actions.act_window">
        <field name="name">Current Situation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">project.update</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="domain">[('task_id', '=', active_id)]</field>
        <field name="search_view_id" ref="project.project_update_view_search"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            No updates found. Let's create one!
            </p><p>
            Get a snapshot of the status of your project and share its progress with key stakeholders.
            </p>
        </field>
    </record>



    <!-- project update -->
    <record model="ir.ui.view" id="project_update_view_form_inherit_ccpp">
        <field name="name">project.update.form.inherit.ccpp</field>
        <field name="model">project.update</field>
        <field name="inherit_id" ref="project.project_update_view_form"/>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <xpath expr="//form[1]" position="attributes">
                <attribute name="js_class">ccpp_location</attribute>
            </xpath>
            <xpath expr="//form[1]/sheet[1]" position="before">
                <header>
                    <button name="button_done" type="object" class="btn-success" string="Done"/>
                </header>
            </xpath>
            <xpath expr="//field[@name='project_id']" position="replace">
                <field name="task_id" string="Task" readonly="True"/>
                <field name="customer_id" string="Customer" readonly="True"/>
                <field name="project_id" string="CCPP" readonly="True"/>
                <field name="solution_id" string="Solution" readonly="True"/>
                <field name="strategy_id" string="Strategy" readonly="True"/>
                <!--<field name="latitude"/>
                <field name="longitude"/>
                <field name="location"/>
                <button name="get_location" type="object" class="btn-success o_hr_attendance_sign_in_out_icon" string="Get Location"/>-->
            </xpath>
            <xpath expr="//field[@name='status']" position="replace">
            </xpath>
            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="placeholder">Enter Current Situation</attribute>
            </xpath>
            <xpath expr="//field[@name='description']" position="attributes">
                <attribute name="placeholder">Enter Description</attribute>
            </xpath>
            <xpath expr="//field[@name='name']" position="before">
                <label for="name" string="Current Situation"/>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/div[1]" position="after">
                <div class="oe_title">
                    <h1>
                        <label for="next_action" string="Next Action"/>
                        <field name="next_action" class="o_text_overflow" placeholder="Enter Next Action"/>
                    </h1>
                </div>
            </xpath>
            <xpath expr="//field[@name='date']" position="attributes">
                <attribute name="readonly">True</attribute>
            </xpath>
            <xpath expr="//field[@name='progress']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
        </field>
    </record>

    <!-- project update -->
    <record model="ir.ui.view" id="project_update_view_tree_inherit_ccpp">
        <field name="name">project.update.tree.inherit.ccpp</field>
        <field name="model">project.update</field>
        <field name="inherit_id" ref="project.project_update_view_tree"/>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <xpath expr="//tree[1]" position="attributes">
                <attribute name="js_class"></attribute>
                <attribute name="create">false</attribute>
            </xpath>
            
            <xpath expr="//tree[1]/field[@name='name']" position="after">
                <field name="customer_id"/>
                <field name="solution_id"/>
                <field name="strategy_id"/>
            </xpath>
            <xpath expr="//tree[1]/field[@name='progress_percentage']" position="replace">
            </xpath>
            <xpath expr="//tree[1]/field[@name='status']" position="replace">
            </xpath>
        </field>
    </record>

    <!-- project update -->
    <record model="ir.ui.view" id="project_update_view_kanban_inherit_ccpp">
        <field name="name">project.update.kanban.inherit.ccpp</field>
        <field name="model">project.update</field>
        <field name="inherit_id" ref="project.project_update_view_kanban"/>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban[1]" position="attributes">
                <attribute name="js_class"></attribute>
                <attribute name="create">false</attribute>
            </xpath>
        </field>
    </record>

    <!-- project step -->
    <record id="project_project_step1_view_form" model="ir.ui.view">
        <field name="name">project.project.step1</field>
        <field name="model">project.project</field>
        <field name="priority">301</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div style="padding-bottom:10px; word-break: break-word;">
                        <label for="name" string="Title"/>
                        <h3 class="d-flex flex-row">
                            <field name="name" widget="text" class="o_text_overflow" placeholder="CCPP Title"/>
                        </h3>
                    </div>
                    <group>
                        <group>
                            <field name="company_id" invisible="True"/>
                            <field name="domain_partner_ids" invisible="True"/>
                            <field name="partner_id" domain="[('id', 'in', domain_partner_ids)]" options="{'no_create':True}" string="Customer (Company)"/>
                            <field name="domain_partner_contact_ids" invisible="True"/>
                            <field name="partner_contact_id" domain="[('id','in',domain_partner_contact_ids)]" context="{'show_title_position':True}" options="{'no_create':True}"  string="Host of CCPP (Contact)"/>
                            <field name="department_id" invisible="True"/> 
                            <field name="division_id" invisible="True"/>
                            <field name="domain_job_ids" invisible="True"/>
                            <field name="job_id"  invisible="True"/>
                            <field name="employee_id" invisible="True"/>
                        </group>
                        <group>
                            <field name="show_critical"/>
                        </group>
                    </group>
                    <div>
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to customer</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical CPP Criteria</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_income_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_cus"/>
                                <!--<div class="text-muted">
                                    เงินได้/เงินสนับสนุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_cus"/>
                                <!--<div class="text-muted">
                                    ประสิทธิภาพการทำงาน/ความก้าวหน้าส่วนบุคคล
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_cus"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของลูกค้า
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_cus"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical Urgency</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_critical"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_critical"/>
                                <!--<div class="text-muted">
                                    ต้องแก้ไขด่วน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_not_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_not_critical"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_not_critical"/>
                                <!--<div class="text-muted">
                                    รอได้
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
                <field name="check_step" invisible="True"/>
                <div style="padding: 10px;margin-top: 30px;">
                    <button name="button_back_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Back" attrs="{'invisible': [('check_step', 'not in', ['2','3'])]}"/>
                    <button name="button_next_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Next" attrs="{'invisible': [('is_critical', '=', False)]}"/>
                    <button name="button_back_to_list" type="object" class="btn-outline-primary m-1" string="Back To List" attrs="{'invisible': [('check_step', 'in', ['1']),('name','=',False)]}"/> 
                </div>
                </sheet>
            </form>
        </field>
    </record>

    <record id="project_project_step2_view_form" model="ir.ui.view">
        <field name="name">project.project.step2</field>
        <field name="model">project.project</field>
        <field name="priority">302</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div style="padding-bottom:10px; word-break: break-word;">
                        <label for="name" string="Title"/>
                        <h3 class="d-flex flex-row">
                            <field name="name" widget="text" class="o_text_overflow" placeholder="CCPP Title"/>
                        </h3>
                    </div>
                    <group>
                        <group>
                            <field name="company_id" invisible="True"/>
                            <field name="domain_partner_ids" invisible="True"/>
                            <field name="partner_id" domain="[('id', 'in', domain_partner_ids)]" options="{'no_create':True}" string="Customer (Company)"/>
                            <field name="domain_partner_contact_ids" invisible="True"/>
                            <field name="partner_contact_id" domain="[('id','in',domain_partner_contact_ids)]" context="{'show_title_position':True}" options="{'no_create':True}" string="Host of CCPP (Contact)"/>
                            <field name="department_id" invisible="True"/> 
                            <field name="division_id" invisible="True"/>
                            <field name="domain_job_ids" invisible="True"/>
                            <field name="job_id"  invisible="True"/>
                            <field name="employee_id" invisible="True"/>
                        </group>
                        <group>
                            <field name="show_critical"/>
                            <field name="priority_id" string="Priority" options="{'no_open': True}"/>
                            <field name="show_time" readonly="True"/>
                        </group>
                    </group>
                    <div>
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to Company/Winmed</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Priority Criteria</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_company_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_income_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_comp"/>
                                <!--<div class="text-muted">
                                    ยอดขาย/ต้นทุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_comp"/>
                                <!--<div class="text-muted">
                                    โอกาสทางธุรกิจในอนาคต
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_comp"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของบริษัท
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_comp"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Time</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_short_time">
                            <div class="o_setting_left_pane">
                                <field name="is_short_time"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_short_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลาน้อยกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_long_time">
                            <div class="o_setting_left_pane">
                                <field name="is_long_time"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_long_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลานานกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div style="padding: 10px;margin-top: 30px;">
                    <field name="check_step" invisible="True"/>
                    <field name="priority_select" invisible="True"/>
                    <button name="button_back_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Back" attrs="{'invisible': [('check_step', 'not in', ['2','3'])]}"/>
                    <button name="button_next_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Next" attrs="{'invisible': [('priority_select', 'not in', ['1','2'])]}"/>
                    <button name="button_back_to_list" type="object" class="btn-outline-primary m-1" string="Back To List" attrs="{'invisible': [('check_step', 'in', ['1']),('name','=',False)]}"/>
                </div>
                </sheet>
                
            </form>
        </field>
    </record>

    <record id="project_project_step3_view_form" model="ir.ui.view">
        <field name="name">project.project.step3</field>
        <field name="model">project.task</field>
        <field name="priority">303</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <field name="state" invisible="True"/>
                    <div class="o_row">
                        <span style="padding-left:30px; padding-top:5px" class="oe_left">
                            <h1>Create Solution</h1>
                        </span>
                    </div>
                    <div style="padding-bottom:10px; word-break: break-word;">
                        <label for="name" string="Title"/>
                        <h3 class="d-flex flex-row">
                            <field name="name" widget="text" class="o_text_overflow" placeholder="Solution Title"/>
                        </h3>
                    </div>
                    <group>
                        <group>
                            <field name="company_id" invisible="True"/>
                            <field name="code" string="Solution No." readonly="True"/>
                            <field name="start_date" force_save="1" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])], 'required': [('is_solution','=',True)]}"/>
                            <field name="code" string="Strategy No." attrs="{'invisible': [('is_strategy','=',False)]}" readonly="True"/>
                            <field name="project_id" attrs="{'invisible': True}" />
                            <field name="parent_id" attrs="{'invisible': True}"/>
                            <field name="parent_id" attrs="{'invisible': True}"/>
                            <field name="partner_id" attrs="{'invisible': True}"/>
                            <field name="project_solution_id" attrs="{'invisible': True}"/>
                        </group>
                        <group>
                            <field name="show_period" readonly="True"/>
                            <field name="deadline_date"/>
                            <field name="priority_id"  attrs="{'invisible': True}"/>
                            <field name="period_id"  attrs="{'invisible': True}"/>
                            <field name="date_deadline"  attrs="{'invisible': True}"/>
                            <field name="user_ids"  attrs="{'invisible': True}"/>
                            <field name="activity_ids"  attrs="{'invisible': True}"/>
                            <field name="active" invisible="1"/>
                            <field name="partner_phone" widget="phone" attrs="{'invisible': True}"/>
                            <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" context="{'project_id': project_id}" invisible="True"/>
                            <field name="display_project_id" string="Project" attrs="{'invisible': True}" domain="[('active', '=', True), ('company_id', '=', company_id)]"/>
                            <field name="milestone_id" placeholder="e.g. Prodquct Launch" context="{'default_project_id': project_id if not parent_id or not display_project_id else display_project_id}" attrs="{'invisible': True}"/>
                            <field name="is_solution" attrs="{'invisible': True}"/>
                            <field name="is_strategy" attrs="{'invisible': True}"/>
                            <field name="is_task" attrs="{'invisible': True}"/>
                            <field name="is_subtask" attrs="{'invisible': True}"/>
                        </group>
                    </group>
                    <notebook>
                        <page name="strategy_page" string="Strategy">
                            <field name="child_ids">
                                <tree editable="bottom">
                                    <field name="company_id" invisible="True"/>
                                    <field name="is_solution" attrs="{'readonly': True, 'column_invisible': True}"/>
                                    <field name="is_strategy" attrs="{'readonly': True, 'column_invisible': True}"/>
                                    <field name="code" string="Strategy No." readonly="True"/>
                                    <field name="name" string="Strategy Title" class="fw-bold" attrs="{'required': True}"/>
                                    <field name="state_color" invisible="1"/>
                                    <field name="state" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <div style="padding: 10px;margin-top: 30px;">
                        <field name="check_step" invisible="True"/>
                        <field name="is_have_child" invisible="True"/>
                        <button name="button_back_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Back" attrs="{'invisible': ['|','|',('name','=',False),('start_date','=',False),('is_have_child','=',False)]}"/>
                        <button name="button_next_step" type="object" class="btn-primary m-1 btn-width-create-ccpp" string="Next" attrs="{'invisible': ['|','|',('name','=',False),('start_date','=',False),('is_have_child','=',False)]}"/>
                        <button name="button_back_to_list" type="object" class="btn-outline-primary m-1" string="Back To List" attrs="{'invisible': ['|','|',('name','=',False),('start_date','=',False),('is_have_child','=',False)]}"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <record id="open_view_ccpp_step1" model="ir.actions.act_window">
        <field name="name">CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="ccpp.project_project_step1_view_form"/>
        <field name="context">{'create_step': 1}</field>
        <field name="target">current</field>
    </record>

    <record id="open_view_ccpp_step2" model="ir.actions.act_window">
        <field name="name">CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="ccpp.project_project_step2_view_form"/>
        <field name="target">main</field>
    </record>

    <record id="open_view_ccpp_step3" model="ir.actions.act_window">
        <field name="name">CCPP</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="ccpp.project_project_step3_view_form"/>
        <field name="target">current</field>
    </record>

    <record id="open_view_ccpp_step4" model="ir.actions.act_window">
        <field name="name">MY CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="project.edit_project"/>
        <field name="target">main</field>
    </record>
    

    <!-- project kanban -->
    <record model="ir.ui.view" id="view_project_kanban_inherit_ccpp">
        <field name="name">project.project.kanban</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project_kanban"/>
        <field name="priority">201</field>
        <field name="arch" type="xml">
            <xpath expr="//kanban[1]" position="attributes">
                <attribute name="delete">0</attribute>
            </xpath>
            <xpath expr="//kanban[1]/templates[1]/t[1]/div[1]" position="attributes">
                <attribute name="min-height">50px</attribute>
            </xpath>
            <xpath expr="//kanban[1]/field[@name='label_tasks']" position="after">
                <field name="code"/>
                <field name="name"/>
                <field name="task_current_action"/>
                <field name="task_next_action"/>
            </xpath>
            <xpath expr="//kanban[1]/progressbar[1]" position="replace">
                <!--<progressbar field="priority_select" colors='{"1": "9", "2": "2", "3": "3", "4": "4"}'/>-->
            </xpath>
            <xpath expr="//kanban[1]/templates[1]/t[1]/div[1]/div[1]/div[1]/div[1]/div[1]" position="replace">
                <div class="o_primary">
                    <!--<span class="o_text_overflow" t-att-title="record.code.value"><t t-esc="record.code.value"/></span>-->
                    <span></span>
                    <t t-if="record.partner_id.value"> 
                        <span class="o_text_overflow text-muted" >
                            <span class="fa fa-address-card me-2 ccpp_kanban_text" aria-label="Partner" title="Partner" t-if="record.partner_id.value"/>
                            <span t-if="record.partner_id.value" class="ccpp_kanban_text">
                                <t t-esc="record.partner_id.value"/>
                            </span>
                        </span>
                    </t>
                    <br t-if="record.partner_id.value"/>
                    <t t-if="record.partner_contact_id.value">
                        <span class="o_text_overflow text-muted ccpp_kanban_text" style="padding-bottom:5px;" t-if="record.partner_contact_id.value">
                            <span class="fa fa-user me-2 ccpp_kanban_text" aria-label="Partner" title="Partner" t-if="record.partner_contact_id.value"/>
                            <span t-if="record.partner_contact_id.value" class="ccpp_kanban_text">
                                <t t-esc="record.partner_contact_id.value"/>
                            </span>
                        </span>
                    </t>
                    <br t-if="record.partner_contact_id.value"/>
                    <span t-if="record.name.value">
                        <span/><t t-esc="record.name.value"/>
                    </span>
                    <br t-if="record.name.value"/>
                    <t t-if="record.task_next_action.value">
                        <span style="padding-left:10px;" t-if="record.task_next_action.value">
                            <span class="fa fa-tasks me-2" style="color:green;" t-if="record.task_next_action.value"/>
                            <t t-esc="record.task_next_action.value"/> 
                            <span t-if="record.task_next_action.value" class="fa fa-clock-o me-2"/>
                        </span>
                    </t>
                </div>
                    
                   
                
                    <!--<field style="padding-top:8px; padding-bottom:5px;" t-if="record.last_update_id.value &amp;&amp; widget.editable" name="last_update_status" widget="project_state_selection" options="{'color_field': 'last_update_color', 'hide_label': 1}" attrs="{'invisible':[('last_update_status','=',False)] }"/>
                    <span style="padding-top:5px; padding-bottom:5px;" class="o_text_overflow text-primary" t-if="record.last_update_id.value">
                        <span class="me-2"/><t t-esc="record.last_update_id.value"/>
                    </span><br/>--> 
                
            </xpath>
            <xpath expr="//kanban[1]/templates[1]/t[1]/div[1]/div[2]" position="replace">
                <!--<div class="o_kanban_record_bottom mt-3" t-if="record.next_action.value">      
                    <div class="oe_kanban_bottom_left">
                      <span style="padding-left:25px;" t-if="record.next_action.value">
                        <span class="fa fa-tasks me-2" style="color:green;"/><t t-esc="record.next_action.value"/> <span class="fa fa-clock-o me-2"/>
                    </span><br/>
                    </div>
                    <div class="oe_kanban_bottom_right">
                        <field name="user_id" widget="many2one_avatar_user" t-if="record.user_id.raw_value"/>
                    </div>
                </div>-->
            </xpath>
        </field>
    </record>

    <record id="open_view_task_all_ccpp" model="ir.actions.act_window">
        <field name="name">Solution</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="project.view_task_form2"/>
        <field name="target"></field>
    </record>  

    <!-- ccpp project form view -->
    <record id="edit_project_inherit_ccpp" model="ir.ui.view">
        <field name="name">edit.project.inherit.ccpp</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <xpath expr="//form[1]" position="attributes">
                <attribute name="delete">false</attribute>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/div[1]/button[1]" position="before">
                <field name="is_delay" invisible="True"/>
                <span style="padding-left:30px;" class="oe_left" attrs="{'invisible':[('is_delay','=',True)]}">
                    <h1>CCPP</h1>
                </span>
                <span style="padding-left:30px; color:red;" class="oe_left" attrs="{'invisible':[('is_delay','=',False)]}">
                    <h1 style="color:red; padding-top:5px">CCPP Delayed</h1>
                </span>
            </xpath>
            <xpath expr="//form[1]/header[1]/field[@name='stage_id']" position="replace">
                <field name="state" widget="statusbar"/>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/div[2]" position="replace">
                <div style="padding-bottom:10px; word-break: break-word;">
                    <h3 class="d-flex flex-row">
                        <field name="is_favorite" nolabel="1" widget="boolean_favorite" class="me-2" readonly="1"/>
                        <field name="name" widget="text" class="o_text_overflow" placeholder="CCPP Name" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                    </h3>
                </div>
            </xpath>
            <xpath expr="//form[1]/header[1]/button[1]" position="before">
                <field name="is_ccpp_done" invisible="True"/>
                <field name="is_show_approve" invisible="True"/>
                <field name="is_owner" invisible="True"/>
                <field name="is_already_approve" invisible="True"/>
                <button name="button_send_approve" string="Send Approve" type="object" class="btn-primary" attrs="{'invisible':['|',('id','=',False),('state','!=','open')]}"/>
                <button name="button_approve" string="Approve" type="object" class="btn-primary"  attrs="{'invisible': ['|',('is_show_approve','=',False),('state','!=','waiting_approve')]}" /><!-- states="waiting_approve" groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager"/>-->
                <button name="button_reject_wizard" string="Reject" type="object" class="btn-danger" attrs="{'invisible': ['|',('is_show_approve','=',False),('state','!=','waiting_approve')]}"/><!--states="waiting_approve" groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager"/>-->
                <button name="button_done" string="Done" type="object" class="btn-success" attrs="{'invisible': ['|','|',('state','!=','process'),('is_ccpp_done','=',False),('is_owner','=',False)]}" confirm="Are you sure to done this CCPP?"/>
                <button name="button_cancel_wizard" string="Cancel" type="object" attrs="{'invisible': ['|',('state','not in',['open','process','done']),('is_owner','=',False)]}"/>
                <button name="button_to_open" string="To Open" type="object" class="btn-primary" attrs="{'invisible': ['|','|',('state', 'not in', ['reject','waiting_approve']),('is_owner', '=', False),('is_already_approve','=',True)]}"/>
            </xpath>

            <xpath expr="//form[1]/header[1]/button[@name='%(project.project_share_wizard_action)d']" position="replace">
            </xpath>
            <xpath expr="//form[1]/header[1]/button[@name='%(project.project_share_wizard_action)d']" position="replace">
            </xpath>
            <!-- button stat ccpp -->
            <xpath expr="//form[1]/sheet[1]/div[1]/button[@name='project_update_all_action']" position="replace">
                <button class="oe_stat_button" name="ccpp_update_all_action_task" type="object" groups="project.group_project_manager">
                    <div class="ps-4">
                        <span class="o_stat_text">
                            Current Situation
                        </span>
                        <!--<br/>
                        <field name="last_update_color" invisible="1"/>
                        <field name="last_update_status" readonly="1" widget="status_with_color" options="{'color_field': 'last_update_color'}" attrs="{'invisible': [('last_update_status','=','to_define')]}"/>-->
                    </div>
                </button>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/div[1]/button[@name='%(project.project_collaborator_action)d']" position="replace">
            </xpath>
            <!--<xpath expr="//form[1]/sheet[1]/div[2]" poqsition="replace">
                <div class="oe_title">
                    <h1 class="d-flex flex-row">
                        <field name="is_favorite" nolabel="1" widget="boolean_favorite" class="me-2"/>
                        <field name="code" class="o_text_overflow"/>
                    </h1>
                </div>
            </xpath>-->
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='label_tasks']" position="replace">
                <field name="code" string="CCPP No." readonly="True"/>
            </xpath>
             
            <xpath expr="//form[1]/sheet[1]/group[1]/group[2]" position="replace">
                <group>
                    <field name="active" invisible="True"/>
                    <field name="show_critical"/>
                    <field name="priority_id" string="Priority" options="{'no_open':True}"/> <!--options="{'no_create':True}"/>-->
                    <field name="show_time" readonly="True"/>
                    <field name="show_period" readonly="True"/>
                    <field name="deadline_date" widget="date"/>
                </group>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='tag_ids']" position="replace">
            </xpath>
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='company_id']" position="replace">
            </xpath>
            <!--<xpath expr="//page[@name='settings']//group[1]" position="before">
                <group>
                    <group>
                        <field name="department_id"/> 
                        <field name="user_id"/>
                        <label for="date_start" string="Planned Date"/>
                        <div name="dates" class="o_row">
                            <field name="date_start" widget="daterange" options='{"related_end_date": "date"}'/>
                            <i class="fa fa-long-arrow-right mx-2 oe_edit_only" aria-label="Arrow icon" title="Arrow"/>
                            <i class="fa fa-long-arrow-right mx-2 oe_read_only" aria-label="Arrow icon" title="Arrow" attrs="{'invisible': [('date_start', '=', False), ('date', '=', False)]}"/>
                            <field name="date" widget="daterange" options='{"related_start_date": "date_start"}'/>
                        </div>
                    </group>
                </group>
            </xpath>-->
                
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='partner_id']" position="replace">
                <field name="domain_partner_ids" invisible="True"/>
                <field name="partner_id" 
                attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"
                options="{'no_create':True}" 
                domain="[('id','in',domain_partner_ids)]"
                required="True"/>
            </xpath>
                
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='partner_id']" position="after">
                <field name="domain_partner_contact_ids" invisible="True"/>
                <field name="partner_contact_id" 
                widget="res_partner_many2one" 
                domain="[('id','in',domain_partner_contact_ids)]" 
                options="{'no_create':True}"
                context="{'show_title_position':True}" 
                attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])], 'invisible': [('is_multi_host', '=', True)], 'required': [('is_multi_host', '=', False)]}"
                /> <!--options="{'no_create':True}"/>-->
                <field name="is_show_multi_host" invisible="True"/>
                <field name="is_multi_host" attrs="{'invisible': [('is_show_multi_host','=',False)]}"/>
                <field name="customer_company_id" invisible="True"/>
                <field name="department_ids" widget="many2many_tags" attrs="{'invisible': [('is_multi_host','=',False)]}" options="{'no_create':True}" domain="[('company_id','=',customer_company_id)]"/>
                <field name="reason_reject" readonly="True" attrs="{'invisible': [('reason_reject','=',False)]}" style="color:red;"/>
                <field name="reason_cancel" readonly="True" attrs="{'invisible': [('reason_cancel','=',False)]}" style="color:red;"/>
                <!--<field name="domain_job_position_ids" invisible="True"/>
                <field name="job_position_id" domain="[('id','in',domain_job_position_ids)]" options="{'no_create': True, 'no_open': True}"/>-->
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='settings']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='description']" position="attributes">
                <attribute name="string">Note</attribute>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='description']/field[@name='description']" position="attributes">
                <attribute name="placeholder">'CCPP Note'</attribute>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='settings']" position="after">
                <page name="Information" string="Information">
                    <group>
                        <group>
                            <field name="department_id" attrs="{'readonly': True}" options="{'no_open': True}"/> 
                            <field name="division_id" attrs="{'readonly': True}" options="{'no_open': True}"/>
                            <field name="domain_job_ids" invisible="True"/>
                            <field name="job_id"  domain="[('id', 'in', domain_job_ids)]" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" options="{'no_open': True}"/>
                            <field name="employee_id" attrs="{'readonly': True}" string="CCPP User" options="{'no_open': True}"/>
                            <field name="company_id" attrs="{'readonly': True}" options="{'no_open': True}"/>
                        </group>
                    </group>
                </page>
                <page name="approve_lines" string="Approval History" attrs="{'invisible': [('ccpp_approve_lines','=',False)]}">
                    <field name="ccpp_approve_lines" readonly="True">
                        <tree decoration-success="state == 'approve'" decoration-danger="state == 'reject'" decoration-muted="state == 'cancel'">
                            <field name="sequence"/>
                            <field name="job_approve_ids" widget="many2many_tags"/>
                            <field name="job_approve_by_id"/>
                            <field name="user_approve_ids" widget="many2many_avatar_user"/>
                            <field name="approve_date"  string="Date"/>
                            <field name="state"/>
                        </tree>
                    </field>
                </page>
                <page name="multi_host" string="Host of CCPP (Contact)" attrs="{'invisible': [('is_multi_host','=',False)]}">
                    <field name="domain_partner_contact" invisible="True"/>
                    <field name="partner_contact_ids" domain="[('id','in',domain_partner_contact)]" options="{'no_create':True}">
                        <tree>
                            <field name="display_name" string="Name"/>
                        </tree>
                    </field>
                </page>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[1]" position="before">
                <page name="solutions" string="Solutions" >
                    <field name="is_delay" invisible="True"/>
                    <field name="is_ready_create_solution" invisible="True"/>
                    <button name="create_solution" type="object" string="New Solution" class="btn btn-outline-primary" icon="fa-plus" style="padding-bottom:20px" 
                    attrs="{'invisible':[('is_ready_create_solution','=',False)]}"/>
                    <field name="tasks_solution" style="padding-top:20px" context="{'is_create_solution': True, 'project_id': active_id, 'default_project_id': active_id}" 
                     >
                    <!--attrs="{'readonly': [('state','not in',['open']),('is_delay','=',False)]}"-->
                        <tree decoration-muted="is_closed == True" create="0" delete="1" edit="1" multi_edit="false">
                            <!--<field name="legend_normal" invisible="1"/>
                            <field name="legend_done" invisible="1"/>
                            <field name="legend_blocked" invisible="1"/>-->
                            <field name="project_id" invisible="1"/>
                            <field name="is_closed" invisible="1"/>
                            <field name="allow_milestones" invisible="1"/>
                            <field name="sequence" widget="handle"/>
                            <field name="priority" widget="priority" invisible="True" optional="" nolabel="1"/>
                            <field name="id" invisible="True" optional=""/>
                            <field name="child_text" invisible="1"/>
                            <field name="allow_subtasks" invisible="1"/>
                            <field name="code" string="Solution No." optional=""/>
                            <field name="name" string="Solution Title"/>
                            <field name="start_date"/>
                            <field name="deadline_date"/>
                            <field name="show_period"/>
                            <field name="display_project_id" string="Project" invisible="True" optional="" options="{'no_open': 1}"/>
                            <field name="milestone_id"
                                invisible="True" optional=""
                                context="{'default_project_id': display_project_id or project_id}"
                                attrs="{'invisible': [('allow_milestones', '=', False)], 'column_invisible': [('allow_milestones', '=', False)]}"
                            />
                            <field name="partner_id" invisible="True" optional=""/>
                            <field name="user_ids" widget="many2many_avatar_user" invisible="True" optional="" domain="[('share', '=', False), ('active', '=', True)]"/>
                            <field name="company_id" groups="base.group_multi_company" invisible="True" optional=""/>
                            <field name="company_id" invisible="1"/>
                            <field name="activity_ids" string="Next Activity" widget="list_activity" invisible="True" optional=""/>
                            <!--<field name="date_deadline" attrs="{'invisible': [('is_closed', '=', True)]}" optional="show"/>-->
                            <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}" invisible="True" optional=""/>
                            <field name="rating_last_text" string="Rating" decoration-danger="rating_last_text == 'ko'"
                                decoration-warning="rating_last_text == 'ok'" decoration-success="rating_last_text == 'top'"
                                attrs="{'invisible': [('rating_last_text', '=', 'none')]}"
                                class="fw-bold" widget="badge" invisible="True" optional=""/>
                            <!--<field name="kanban_state" widget="state_selection" optional="show" options="{'hide_label': True}" nolabel="1"/>
                            <field name="stage_id" optional="show" context="{'default_project_id': project_id}"/>-->
                            <field name="task_last_current_action_solution" invisible="True" string="Current Situation" readonly="True"/>
                            <field name="state_color" invisible="1"/>
                            <field name="state" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                            <!--<button name="action_open_task2" type="object" title="View Solution" string="View Solution" class="btn btn-link float-end ri-eye-line"/>-->
                        </tree>
                    </field>
                </page>
                <page name="strategy_history" string="Strategy History">
                    <div style="border: 0px solid #1ea8e7b3;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;background: #1ea8e7b3">
                        <p style="margin: auto;color: white;font-weight: 700;text-align: left;">Current Period Strategy</p>
                    </div>
                    <field name="strategy_lines" readonly="True">
                        <tree>
                            <field name="code" string="Solution No."/>
                            <field name="parent_id" string="Solution Title"/>
                            <field name="name" string="Strategy Title"/>
                            <field name="deadline_date" string="Deadline"/>
                            <field name="show_period"/>
                            <field name="state_color" invisible="1"/>
                            <field name="state" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                        </tree>
                    </field>
                    <div style="border: 0px solid #dee1e6;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;background: #dee1e6">
                        <p style="margin: auto;color: white;font-weight: 700;text-align: left;">Previous Period Strategy</p>
                    </div>
                    <field name="strategy_history_lines" readonly="True">
                        <tree>
                            <field name="code" string="Solution No."/>
                            <field name="parent_id" string="Solution Title"/>
                            <field name="name" string="Strategy Title"/>
                            <field name="deadline_date" string="Deadline"/>
                            <field name="show_period"/>
                            <field name="state_color" invisible="1"/>
                            <field name="state" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                        </tree>
                    </field>
                </page>
                <page name="impact_customer" string="Critical (Impact to customer)">  
                    <br></br> 
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to customer</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical CPP Criteria</p>
                    </div>
                    
                    <div class="row mt16 o_settings_container" id="impact_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_income_cus" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_cus"/>
                                <!--<div class="text-muted">
                                    เงินได้/เงินสนับสนุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_cus" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_cus"/>
                                <!--<div class="text-muted">
                                    ประสิทธิภาพการทำงาน/ความก้าวหน้าส่วนบุคคล
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_cus" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_cus"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของลูกค้า
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_cus" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_cus"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical Urgency</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_critical" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_critical"/>
                                <!--<div class="text-muted">
                                    ต้องแก้ไขด่วน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_not_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_not_critical" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_not_critical"/>
                                <!--<div class="text-muted">
                                    รอได้
                                </div>-->
                            </div>
                        </div>
                    </div>
                </page>                    
                <page name="impact_company" string="Priority (Impact to company)">  
                    <br></br>
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to Company/Winmed</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Priority Criteria</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_company_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_income_comp" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_comp"/>
                                <!--<div class="text-muted">
                                    ยอดขาย/ต้นทุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_comp" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_comp"/>
                                <!--<div class="text-muted">
                                    โอกาสทางธุรกิจในอนาคต
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_comp" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_comp"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของบริษัท
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_comp" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_comp"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Time</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_short_time">
                            <div class="o_setting_left_pane">
                                <field name="is_short_time" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_short_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลาน้อยกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_long_time">
                            <div class="o_setting_left_pane">
                                <field name="is_long_time" attrs="{'readonly':['|',('show_critical','!=','Critical'),('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}" force_save="True"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_long_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลานานกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                    </div>
                </page>
            </xpath>
        </field>
    </record>

    <!-- for create ccpp -->
    <record id="project_project_view_form_simplified_footer_ccpp" model="ir.ui.view">
        <field name="name">project.project.view.form.simplified.footer.ccpp</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.project_project_view_form_simplified_footer"/>
        <field name="priority">101</field>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_view_tasks']" position="after">
                <field name="is_verify_impact_cus" invisible="True"/>
                <field name="is_critical" invisible="True"/>
                <field name="is_stamp_record" invisible="True"/>

                <button string="Next" name="button_next_create_ccpp" type="object" class="btn-primary" attrs="{'invisible':['|',('is_verify_impact_cus','=',True),('is_critical','=',False)]}"/>
                <button string="Discard" name="button_discard_create_ccpp" type="object" attrs="{'invisible':[('is_verify_impact_cus','=',False),('is_stamp_record','=',False)]}" context="{'discard_create': True}"/><!-- attrs="{'invisible':[('is_verify_impact_cus','=',False)]}"/>-->
            </xpath>
            <xpath expr="//button[@name='action_view_tasks']" position="before">
                <button string="Back" name="button_back_create_ccpp" type="object" class="btn-primary" attrs="{'invisible':[('is_verify_impact_cus','=',False)]}"/>
                <button string="Skip&amp;Create" name="button_skip_and_create" type="object" class="btn-primary" attrs="{'invisible':[('is_verify_impact_cus','=',False)]}"/>
            </xpath>

            <xpath expr="//button[@name='action_view_tasks']" position="attributes">
                <attribute name="attrs">{'invisible':[('is_critical','=',True),('is_verify_impact_cus','=',False)]}</attribute>
                <attribute name="context">{'need_fill': True}</attribute>
                <attribute name="string">Create</attribute>
            </xpath>
            <xpath expr="//form[1]/footer[1]/button[last()]" position="attributes">
                <attribute name="attrs">{'invisible':['|',('is_verify_impact_cus','=',True),('is_stamp_record','=',True)]}</attribute>
            </xpath>
            <xpath expr="//form[1]/div[2]" position="replace">
            </xpath>
            <xpath expr="//form[1]/div[1]" position="replace">
                <div class="oe_title">
                    <label for="name" string="Name"/>
                    <h1>
                        <field name="name" class="o_project_name oe_inline" placeholder="CCPP Name"/>
                    </h1>
                </div>
            </xpath>

        </field>
    </record>

    <!-- for create ccpp -->
    <record id="project_project_view_form_simplified_ccpp" model="ir.ui.view">
        <field name="name">project.project.view.form.simplified.ccpp</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.project_project_view_form_simplified"/>
        <field name="priority">101</field>
        <field name="arch" type="xml">
            <xpath expr="//form[1]/div[1]" position="after">
                <group>
                    <group>
                        <field name="company_id" invisible="True"/>
                        <field name="domain_partner_ids" invisible="True"/>
                        <field name="partner_id" domain="[('id', 'in', domain_partner_ids)]" options="{'no_create':True}"/>
                        <field name="domain_partner_contact_ids" invisible="True"/>
                        <field name="partner_contact_id" domain="[('id','in',domain_partner_contact_ids)]" context="{'show_title_position':True}" options="{'no_create':True}"/>
                        <field name="department_id" invisible="True"/> 
                        <field name="division_id" invisible="True"/>
                        <field name="domain_job_ids" invisible="True"/>
                        <field name="job_id"  invisible="True"/>
                        <field name="employee_id" invisible="True"/>
                        <!--<field name="domain_job_position_ids" invisible="True"/>
                        <field name="job_position_id" domain="[('id','in',domain_job_position_ids)]" options="{'no_create': True, 'no_open': True}"/>-->
                    </group>
                </group>
            </xpath>
            <xpath expr="//div[hasclass('o_settings_container')]" position="after">
                <field name="is_verify_impact_cus" invisible="True"/>
                <field name="is_stamp_record" invisible="True"/>
                <div attrs="{'invisible':[('is_verify_impact_cus','=',True)]}">
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to customer</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical CPP Criteria</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_income_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_cus"/>
                                <!--<div class="text-muted">
                                    เงินได้/เงินสนับสนุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_cus"/>
                                <!--<div class="text-muted">
                                    ประสิทธิภาพการทำงาน/ความก้าวหน้าส่วนบุคคล
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_cus"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของลูกค้า
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_cus">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_cus"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_cus"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Critical Urgency</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_critical"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_critical"/>
                                <!--<div class="text-muted">
                                    ต้องแก้ไขด่วน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_not_critical">
                            <div class="o_setting_left_pane">
                                <field name="is_not_critical"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_not_critical"/>
                                <!--<div class="text-muted">
                                    รอได้
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div attrs="{'invisible':[('is_verify_impact_cus','=',False)]}">
                    <div>
                        <h3><p style="margin: auto;font-weight: 900;text-align: center;">Impact to Company/Winmed</p></h3>
                    </div>  
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Priority Criteria</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_company_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_income_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_income_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_income_comp"/>
                                <!--<div class="text-muted">
                                    ยอดขาย/ต้นทุน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_effectiveness_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_effectiveness_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_effectiveness_comp"/>
                                <!--<div class="text-muted">
                                    โอกาสทางธุรกิจในอนาคต
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_repulation_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_repulation_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_repulation_comp"/>
                                <!--<div class="text-muted">
                                    ภาพลักษณ์ของบริษัท
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_competitive_comp">
                            <div class="o_setting_left_pane">
                                <field name="is_competitive_comp"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_competitive_comp"/>
                                <!--<div class="text-muted">
                                    ความได้เปรียบของคู่แข่ง
                                </div>-->
                            </div>
                        </div>
                    </div>
                    <div style="border: 0px solid #9790b4;padding: 5px;border-radius: 7px;margin-top: 10px;margin-bottom: 10px;" class="background-theme-ccpp">
                        <p style="margin: auto;font-weight: 700;text-align: left;" class="font-theme-ccpp">Time</p>
                    </div>
                    <div class="row mt16 o_settings_container" id="impact_time_cus_setting">
                        <div class="col-12 col-lg-5 o_setting_box" id="is_short_time">
                            <div class="o_setting_left_pane">
                                <field name="is_short_time"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_short_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลาน้อยกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                        <div class="col-12 col-lg-5 o_setting_box" id="is_long_time">
                            <div class="o_setting_left_pane">
                                <field name="is_long_time"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="is_long_time"/>
                                <!--<div class="text-muted">
                                    ใช้เวลานานกว่า 4 เดือน
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </xpath>
        </field>
    </record>

    <!-- button update on kanban -->
    <record id="project_view_kanban_inherit_project_inherit_ccpp" model="ir.ui.view">
        <field name="name">project.kanban.inherit.project</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.project_view_kanban_inherit_project"/>
        <field name="priority">201</field>
        <field name="arch" type="xml">
            <xpath expr="//a[@name='project_update_all_action']" position="replace">
                <a name="ccpp_update_all_action_task" type="object" t-attf-context="{'active_id': #{record.id.raw_value} }">CCPP Updates</a>
            </xpath>
        </field>
    </record>

    <!-- solution / strategy / task is task view -->
    <record id="view_task_form2_inherit_ccpp" model="ir.ui.view">
        <field name="name">view.task.form2.inherit.ccpp</field>
        <field name="model">project.task</field>
        <field eval="101" name="priority"/>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
            <xpath expr="//form[1]/header[1]/field[@name='stage_id']" position="replace">
                <field name="state" widget="statusbar"/>
            </xpath>
            <xpath expr="//form[1]/header[1]/field[@name='personal_stage_type_id']" position="replace">
            </xpath>
            <xpath expr="//form[1]/sheet[1]/div[2]/h1[1]/field[@name='kanban_state']" position="replace">
            </xpath>

            <xpath expr="//form[1]/sheet[1]/div[1]/button[1]" position="before">
                <field name="is_delay" invisible="True"/>
                <span style="padding-left:30px; padding-top:5px" class="oe_left" attrs="{'invisible': ['|',('is_solution', '=', False),('is_delay','=',True)]}">
                    <h1>Solution</h1>
                </span>
                <span style="padding-left:30px; padding-top:5px color:red;" class="oe_left" attrs="{'invisible':['|',('is_solution', '=', False),('is_delay','=',False)]}">
                    <h1 style="color:red; padding-top:5px">Solution Delayed</h1>
                </span>
                
        
                <span style="padding-left:30px; padding-top:5px" class="oe_left" attrs="{'invisible': ['|',('is_strategy', '=', False),('is_delay','=',True)]}">
                    <h1>Strategy</h1>
                </span>
                <span style="padding-left:30px; padding-top:5px color:red;" class="oe_left" attrs="{'invisible':['|',('is_strategy', '=', False),('is_delay','=',False)]}">
                    <h1 style="color:red; padding-top:5px">Strategy Delayed</h1>
                </span>
                <span style="padding-left:30px; padding-top:5px" class="oe_left" attrs="{'invisible': [('is_task', '=', False)]}">
                    <h1>Task</h1>
                </span>
                <span style="padding-left:30px; padding-top:5px" class="oe_left" attrs="{'invisible': [('is_subtask', '=', False)]}">
                    <h1>Sub Task</h1>
                </span>
        
            </xpath>
            <xpath expr="//button[@name='action_assign_to_me']" position='replace'/>
            <xpath expr="//button[@name='action_assign_to_me']" position='replace'>
                <field name="is_ccpp_on_process" invisible="True"/>
                <field name="is_solution_on_approve" invisible="True"/>
                <field name="is_show_solution_approve" invisible="True"/>
                <field name="is_show_strategy_approve" invisible="True"/>
                <field name="is_strategy_already_approve" invisible="True"/>
                <field name="is_solution_already_approve" invisible="True"/>
                <field name="is_owner" invisible="True"/>
                <!--<button name="button_update_strategy" type="object" class="btn-primary" string="Current Situation" attrs="{'invisible': ['|',('is_strategy', '=', False),('state','!=','process')]}"/>-->
                <button name="button_done" string="Done" type="object" class="btn-success" attrs="{'invisible': ['|','|',('is_strategy', '=', False),('state','!=','process'),('is_owner','=',False)]}" confirm="Are you sure to done this strategy?"/>
                
                <button name="button_send_approve_strategy" type="object" class="btn-primary" string="Send Approve Strategy" attrs="{'invisible': ['|','|','|',('is_strategy', '=', False),('state','!=','open'),('is_ccpp_on_process','=',False),('is_solution_on_approve','=',True)]}"/>
                <button name="button_send_approve_solution" type="object" class="btn-primary" string="Send Approve Solution" attrs="{'invisible': ['|','|',('is_solution', '=', False),('state','!=','open'),('is_ccpp_on_process','=',False)]}"/>
                <button name="button_approve_strategy" string="Approve Strategy" type="object" class="btn-primary" attrs="{'invisible': ['|','|','|','|',('is_strategy', '=', False),('state','!=','waiting_approve'),('is_ccpp_on_process','=',False),('is_solution_on_approve','=',True),('is_show_strategy_approve','=',False)]}"/><!--groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager"/>-->
                <button name="button_approve_solution" string="Approve Solution" type="object" class="btn-primary" attrs="{'invisible': ['|','|','|',('is_solution', '=', False),('state','!=','waiting_approve'),('is_ccpp_on_process','=',False),('is_show_solution_approve','=',False)]}"/><!-- groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager"/>-->
                <button name="button_reject_strategy_wizard" string="Reject Strategy" type="object" class="btn-danger" attrs="{'invisible': ['|','|','|','|',('is_strategy', '=', False),('state','!=','waiting_approve'),('is_ccpp_on_process','=',False),('is_solution_on_approve','=',True),('is_show_strategy_approve','=',False)]}"/><!-- groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager"/>-->
                <button name="button_reject_solution_wizard" string="Reject Solution" type="object" class="btn-danger" attrs="{'invisible': ['|','|','|',('is_solution', '=', False),('state','!=','waiting_approve'),('is_ccpp_on_process','=',False),('is_show_solution_approve','=',False)]}"/><!-- groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_managerr"/>-->
                <button name="button_to_open_strategy" string="To Open Strategy" type="object" class="btn-primary" attrs="{'invisible': ['|','|','|','|','|',('is_strategy', '=', False),('state','not in',['reject','waiting_approve']),('is_ccpp_on_process','=',False),('is_solution_on_approve','=',True),('is_owner','=',False),('is_strategy_already_approve','=',True)]}"/>
                <button name="button_to_open_solution" string="To Open Solution" type="object" class="btn-primary" attrs="{'invisible': ['|','|','|','|',('is_solution', '=', False),('state','not in',['reject','waiting_approve']),('is_ccpp_on_process','=',False),('is_owner','=',False),('is_solution_already_approve','=',True)]}"/>

                <!--<button name="button_to_process" string="To Process" type="object" states="cancel" attrs="{'invisible': ['|',('is_strategy', '=', False),('state','!=','cancel')]}"/>-->
                <button name="button_cancel_wizard" string="Cancel" type="object" attrs="{'invisible': ['|','|',('state','not in',['open','process','done']),('id', '=', False),('is_owner','=',False)]}"/>
                <button name="button_start_next_period" string="Start Next Period" type="object" class="btn-warning" attrs="{'invisible': ['|','|',('is_delay','=',False),('state','=','cancel'),('is_solution','=',False)]}" help="Start Next Period with remaining strategy click here!"/>
                <span class="o_tooltip o_tooltip_visible right o_animated ccpp_tooltip" attrs="{'invisible': ['|','|',('is_delay','=',False),('state','=','cancel'),('is_solution','=',False)]}"></span>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/group[1]" position="replace">
                <group>
                    <group>
                        <field name="code" string="Solution No." attrs="{'invisible': [('is_solution','=',False)]}" readonly="True"/>
                        <field name="start_date" force_save="1" attrs="{'invisible': [('is_solution','=',False)], 'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])], 'required': [('is_solution','=',True)]}"/>
                        <field name="code" string="Strategy No." attrs="{'invisible': [('is_strategy','=',False)]}" readonly="True"/>
                        <field name="code" string="Task No." attrs="{'invisible': [('is_task','=',False),('is_subtask','=',False)]}" readonly="True"/>
                        <field name="evaluate_method" attrs="{'invisible': [('is_strategy','=',False)], 'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                        <field name="next_action" attrs="{'invisible': [('is_strategy','=',False)]}" readonly="True"/>
                        <field name="reason_reject" readonly="True" attrs="{'invisible': [('reason_reject','=',False)]}" style="color:red;"/>
                        <field name="reason_cancel" readonly="True" attrs="{'invisible': [('reason_cancel','=',False)]}" style="color:red;"/>

                        <!--<field name="project_id" domain="[('active', '=', True), ('company_id', '=', company_id)]" widget="project_private_task" string="CCPP" />
                        <field name="parent_id" string="Solution" attrs="{'invisible': [('is_solution','=',True)]}"/>
                        <field name="parent_id" string="Strategy" attrs="{'invisible': ['|',('is_solution','=',True),('is_strategy','=',True)]}"/>
                        <field name="partner_id" widget="res_partner_many2one" class="o_task_customer_field"/>
                        <field name="evaluate_method" attrs="{'invisible': [('is_strategy','=',False)]}"/>-->
                        <field name="project_id" attrs="{'invisible': True}" />
                        <field name="parent_id" attrs="{'invisible': True}"/>
                        <field name="parent_id" attrs="{'invisible': True}"/>
                        <field name="partner_id" attrs="{'invisible': True}"/>
                        <field name="project_solution_id" attrs="{'invisible': True}"/>
                    </group>
                    <group>
                        <!--<field name="priority_id"/>
                        <field name="period_id" string="period"/>
                        <field name="date_deadline" attrs="{'invisible': [('is_closed', '=', True)]}"/>
                        <field name="user_ids" class="o_task_user_field" options="{'no_open': True, 'no_quick_create': True}" widget="many2many_avatar_user" domain="[('share', '=', False), ('active', '=', True)]"/>
                        <field name="activity_ids" string="Next Activity" widget="list_activity" attrs="{'invisible': [('is_strategy','=',False)]}"/>-->
                        <field name="show_period" attrs="{'invisible': [('is_solution','=',False)]}" readonly="True"/>
                        <field name="deadline_date" attrs="{'invisible': [('is_solution','=',False)]}"/>
                        <field name="priority_id"  attrs="{'invisible': True}"/>
                        <field name="period_id"  attrs="{'invisible': True}"/>
                        <field name="date_deadline"  attrs="{'invisible': True}"/>
                        <field name="user_ids"  attrs="{'invisible': True}"/>
                        <field name="activity_ids"  attrs="{'invisible': True}"/>
                        <field name="active" invisible="1"/>
                        <field name="partner_phone" widget="phone" attrs="{'invisible': True}"/>
                        <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" context="{'project_id': project_id}" invisible="True"/>
                        <!--<field name="legend_blocked" invisible="1"/>
                        <field name="legend_normal" invisible="1"/>
                        <field name="legend_done" invisible="1"/>-->
                        <field name="display_project_id" string="Project" attrs="{'invisible': True}" domain="[('active', '=', True), ('company_id', '=', company_id)]"/>
                        <field name="milestone_id" placeholder="e.g. Product Launch" context="{'default_project_id': project_id if not parent_id or not display_project_id else display_project_id}" attrs="{'invisible': True}"/>
                        <field name="is_solution" attrs="{'invisible': True}"/>
                        <field name="is_strategy" attrs="{'invisible': True}"/>
                        <field name="is_task" attrs="{'invisible': True}"/>
                        <field name="is_subtask" attrs="{'invisible': True}"/>
                    </group>
                </group>
            </xpath>

            <xpath expr="//field[@name='task_properties']" position="replace">
            </xpath>
            
            <xpath expr="//form[1]/sheet[1]/div[2]" position="replace">
                <br></br>
                <div attrs="{'invisible': [('is_solution','=',False)]}" style="padding-bottom:10px; word-break: break-word;">
                    <h3 class="d-flex justify-content-between align-items-center">
                        <div class="d-flex w-100">
                            <field name="priority" widget="priority" class="me-3" readonly="True"/>
                            <field name="name" widget="text" class="o_task_name text-truncate w-100 w-md-75 pe-2" placeholder="Solution Name" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                        </div>
                        <!--<field name="kanban_state" widget="state_selection" class=""/>-->
                    </h3>
                </div>
                <div attrs="{'invisible': [('is_strategy','=',False)]}" style="padding-bottom:10px; word-break: break-word;">
                    <h3 class="d-flex justify-content-between align-items-center">
                        <div class="d-flex w-100">
                            <field name="priority" widget="priority" class="me-3" readonly="True"/>
                            <field name="name" widget="text" class="o_task_name text-truncate w-100 w-md-75 pe-2" placeholder="Strategy Name" attrs="{'readonly': [('state', 'in', ['waiting_approve','reject','process','done','cancel','delay'])]}"/>
                        </div>
                        <!--<field name="kanban_state" widget="state_selection" class=""/>-->
                    </h3>
                </div>
            </xpath>

            <!-- timesheet page -->
            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]" position="attributes">
                <attribute name="attrs">{'invisible': ['|',('allow_subtasks', '=', False), '&amp;', ('is_task', '=' ,False), ('is_subtask', '=', False)]}</attribute>
            </xpath>
            <!-- task page -->
            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[3]" position="attributes">
                <attribute name="attrs">{'invisible': ['|', ('allow_subtasks', '=', False), '&amp;', ('is_task', '=' ,False), ('is_subtask', '=', False)]}</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/button[@name='action_open_task']" position="replace">
                <field name="is_strategy" invisible="True"/>
                <field name="is_task" invisible="True"/>
                <field name="is_subtask" invisible="True"/>
                <field name="is_delay" invisible="True"/>
                <field name="is_owner" invisible="True"/>
                <field name="is_ccpp_on_process" invisible="True"/>
                <field name="is_solution_on_approve" invisible="True"/>
                <field name="is_show_solution_approve" invisible="True"/>
                <field name="is_show_strategy_approve" invisible="True"/>
                <!--<button name="action_open_task2" type="object" title="View Strategy" string="View Strategy" class="btn btn-link float-end" attrs="{'invisible': [('parent.is_solution','=',False)]}"/>-->
                <button name="button_send_approve_strategy" type="object" class="btn-primary" string="Send Approve Strategy" attrs="{'invisible': ['|','|',('state','!=','open'),('is_ccpp_on_process','=',False),('is_solution_on_approve','=',True)]}"/>
                <button name="button_done" type="object" string="Done" class="btn-success ri-arrow-right-up-line me-2" attrs="{'invisible': ['|','|',('state','!=','process'),('is_delay','=',True),('is_owner','=',False)]}" confirm="Are you sure to done this strategy?"/>
                <button name="button_cancel_wizard" type="object" string="Cancel" class="btn-secondary-ccpp"   attrs="{'invisible': ['|','|',('state','not in',['open','process','done']),('is_delay','=',True),('is_owner','=',False)]}"/>
                <button name="action_open_task2" type="object" title="View Task" string="View Task" class="btn btn-link float-end" attrs="{'invisible': [('parent.is_strategy','=',False)]}"/>
                <!--<button name="unlink" icon="gtk-cancel" type="object" string="Delete"/>-->
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='activity_ids']" position="replace">
                <!--<field name="activity_ids" string="Next Activity" widget="list_activity" attrs="{'column_invisible': [('parent.is_solution','=',False)]}"/>-->
                <field name="task_last_current_action" string="Current Situation" attrs="{'column_invisible': [('parent.is_solution','=',False)]}" readonly="True"/>
                <field name="task_next_action" attrs="{'column_invisible': [('parent.is_solution','=',False)]}" readonly="True"/>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='id']" position="replace">
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='date_deadline']" position="replace">
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='kanban_state']" position="replace">
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='stage_id']" position="replace">
                <field name="state_color" invisible="1"/>
                <field name="state" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <!--<field name="state_color" invisible="True"/>
                <field name="state" readonly="1" widget="status_with_color" options="{'color_field': 'state_color', 'hide_label': True }"/>-->
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='name']" position="attributes">
                <attribute name="widget"></attribute>
                <attribute name="attrs">{'readonly': [('state','not in',['open'])]}</attribute>
                <attribute name="string">Strategy Title</attribute>
            </xpath>
            <!--<xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='user_ids']" position="attributes">
                <attribute name="attrs">{'readonly': [('state','not in',['open'])]}</attribute>
            </xpath>-->
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='user_ids']" position="replace">
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='priority']" position="replace">
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']" position="attributes">
                <attribute name="widget"></attribute>
                <attribute name="context">{'search_view_ref' : 'project.view_task_search_form_extended', 'default_project_id': project_solution_id if not parent_id or not display_project_id else display_project_id, 'default_user_ids': user_ids, 'default_parent_id': id,
                                    'default_partner_id': partner_id, 'default_milestone_id': allow_milestones and milestone_id, 'search_default_display_project_id': project_id, "is_create_strategy": True}</attribute>
                <attribute name="attrs">{'readonly': [('state', 'in', ['waiting_approve','reject','done','cancel','delay'])]}</attribute>
            </xpath>
            
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='name']" position="before">
                <field name="code" string="Strategy No." attrs="{'column_invisible': [('parent.is_solution','=',False)]}" readonly="True"/>
                <field name="code" string="Task No." attrs="{'column_invisible': [('parent.is_strategy','=',False),('parent.is_task','=',False),('parent.is_subtask','=',False)]}" readonly="True"/>
            </xpath>
            <!--<xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]" position="attributes">-->
                <!--<attribute name="delete">false</attribute>-->
                <!--<attribute name="attrs">{'create': [('state','in',['open','process'])]}</attribute>-->
            <!--</xpath>-->
            <!-- invisible optional -->
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='project_id']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='company_id']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='rating_last_text']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='display_project_id']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='partner_id']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <!--<xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='planned_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='subtask_effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='total_hours_spent']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='remaining_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='progress']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>-->
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='tag_ids']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <!--<xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='rating_ids']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>-->
            <!-- page name -->
            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[2]" position="after">
                <page name="strategy_page" string="Strategy" attrs="{'invisible': [('is_solution', '=' ,False)]}">
                    <field name="child_ids"/>
                </page>
                <page name="situation_page" string="Situation" attrs="{'invisible': [('is_strategy', '=' ,False)]}">
                    <field name="task_situation_ids">
                        <tree create="false" delete="false" edit="false" multi_edit="1">
                            <!--<field name="code"/>-->
                            <field name="current_action" string="Current Situation"/>
                            <field name="next_action"/>
                            <field name="user_id" string="Author"/>
                            <field name="date"/>
                            <field name="location"/>
                        </tree>
                    </field>
                    <!--<field name="situation_ids">
                        <tree create="false" delete="false" edit="false" multi_edit="1">
                            <field name="code"/>
                            <field name="name" string="Name"/>
                            <field name="user_id" string="Author"/>
                            <field name="date"/>
                            <field name="next_action"/>
                            <field name="location"/>
                        </tree>
                    </field>-->
                </page>
                <page name="solution_approve_lines" string="Approval History" attrs="{'invisible': [('is_solution','=',False)]}">
                    <field name="solution_approve_lines" readonly="True">
                        <tree decoration-success="state == 'approve'" decoration-danger="state == 'reject'" decoration-muted="state == 'cancel'">
                            <field name="sequence"/>
                            <field name="job_approve_ids" widget="many2many_tags"/>
                            <field name="job_approve_by_id"/>
                            <field name="user_approve_ids" widget="many2many_avatar_user"/>
                            <field name="approve_date" string="Date"/>
                            <field name="state"/>
                        </tree>
                    </field>
                </page>
                <page name="strategy_approve_lines" string="Approval History" attrs="{'invisible': [('is_strategy','=',False)]}">
                    <field name="strategy_approve_lines" readonly="True">
                        <tree decoration-success="state == 'approve'" decoration-danger="state == 'reject'" decoration-muted="state == 'cancel'">
                            <field name="sequence"/>
                            <field name="job_approve_ids" widget="many2many_tags"/>
                            <field name="job_approve_by_id"/>
                            <field name="user_approve_ids" widget="many2many_avatar_user"/>
                            <field name="approve_date" string="Date"/>
                            <field name="state"/>
                        </tree>
                    </field>
                </page>
            </xpath>
            
            <!-- invisible page -->
            <xpath expr="//page[@name='recurrence']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='task_dependencies']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='extra_info']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='description_page']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>

            

            
            

            <!-- button stat -->
            <xpath expr="//form[1]/sheet[1]/div[1]/button[@name='%(project.project_task_action_sub_task)d']" position="replace">
                <!--<button name="button_open_project" type="object" class="oe_stat_button" icon="fa-tasks"
                    attrs="{'invisible' : [('id', '=', False)]}" context="{'default_user_ids': user_ids}">
                    <span class="o_stat_text">CCPP</span>  
                </button>
                <button name="button_open_solution" type="object" class="oe_stat_button" icon="fa-tasks"
                    attrs="{'invisible' : ['|',('id', '=', False), ('is_solution', '=', True)]}" context="{'default_user_ids': user_ids}">
                    <span class="o_stat_text">Solution</span>
                </button>-->
                <button class="oe_stat_button" name="solution_update_all_action_task" type="object" groups="project.group_project_manager"
                attrs="{'invisible' : ['|',('id', '=', False),('is_solution', '=', False)]}">
                    <div class="ps-4">
                        <span class="o_stat_text">
                            Current Situation
                        </span>
                        <!--<br/>
                        <field name="last_update_color_solution" invisible="1"/>
                        <field name="last_update_status_solution" readonly="1" widget="status_with_color" options="{'color_field': 'last_update_color_solution'}" attrs="{'invisible': [('last_update_status_solution','=','to_define')]}"/>-->
                    </div>
                </button>
                <!--<button name="button_open_child" type="object" class="oe_stat_button" icon="fa-tasks"
                    attrs="{'invisible' : ['|', '|', '|',('allow_subtasks', '=', False), ('id', '=', False), ('subtask_count', '=', 0), ('is_solution', '=', False)]}" context="{'default_user_ids': user_ids}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value">
                            <field name="subtask_count" widget="statinfo" nolabel="1"/>
                        </span>
                        <span class="o_stat_text">Strategy</span>
                    </div>
                </button>
                <button name="button_open_child" type="object" class="oe_stat_button" icon="fa-tasks"
                    attrs="{'invisible' : ['|', '|', '|',('allow_subtasks', '=', False), ('id', '=', False), ('subtask_count', '=', 0), ('is_strategy', '=', False)]}" context="{'default_user_ids': user_ids}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value">
                            <field name="subtask_count" widget="statinfo" nolabel="1"/>
                        </span>
                        <span class="o_stat_text">Tasks</span>
                    </div>
                </button>
                <button name="button_open_child" type="object" class="oe_stat_button" icon="fa-tasks"
                    attrs="{'invisible' : ['|', '|', ('allow_subtasks', '=', False), '|', ('id', '=', False), ('subtask_count', '=', 0), '&amp;',('is_task', '=', False), ('is_subtask', '=', False)]}" context="{'default_user_ids': user_ids}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value">
                            <field name="subtask_count" widget="statinfo" nolabel="1"/>
                        </span>
                        <span class="o_stat_text">Sub Tasks</span>
                    </div>
                </button>-->
            </xpath>

            <!-- button parent -->
            <xpath expr="//form[1]/sheet[1]/div[1]/button[@name='action_open_parent_task']" position="replace">
                <!--<button name="action_open_parent_task" type="object" class="oe_stat_button" icon="fa-tasks" string="Solution" attrs="{'invisible': ['|', '|', ('allow_subtasks', '=', False), ('parent_id', '=', False), ('is_strategy', '=', False)]}" groups="project.group_subtask_project"/>
                <button name="action_open_parent_task" type="object" class="oe_stat_button" icon="fa-tasks" string="Strategy" attrs="{'invisible': ['|', '|', ('allow_subtasks', '=', False), ('parent_id', '=', False), ('is_task', '=', False)]}" groups="project.group_subtask_project"/>
                <button name="action_open_parent_task" type="object" class="oe_stat_button" icon="fa-tasks" string="Task" attrs="{'invisible': ['|', '|', ('allow_subtasks', '=', False), ('parent_id', '=', False), ('is_subtask', '=', False)]}" groups="project.group_subtask_project"/>-->
            </xpath>

        </field>
    </record>

    <record id="view_task_form2_inherited_ccpp" model="ir.ui.view">
        <field name="name">view.project.project.filter.inherit.ccpp</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='child_ids']/tree/field[@name='planned_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/tree/field[@name='effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/tree/field[@name='subtask_effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/tree/field[@name='total_hours_spent']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/tree/field[@name='remaining_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/tree/field[@name='progress']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>


            <!--<xpath expr="//field[@name='child_ids']/tree[1]/field[@name='planned_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='subtask_effective_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='total_hours_spent']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='remaining_hours']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@name='sub_tasks_page']/field[@name='child_ids']/tree[1]/field[@name='progress']" position="attributes">
                <attribute name="optional"></attribute>
                <attribute name="invisible">True</attribute>
            </xpath>-->
        </field>
    </record>

    <!-- action open form project -->
    <record id="open_view_project_all_ccpp" model="ir.actions.act_window">
        <field name="name">CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="project.edit_project"/>
        <field name="target">main</field>
    </record>
        
        <record id="ccpp_dashboard_project_action" model="ir.actions.act_window">
            <field name="name">CCPP</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">project.project</field>
            <field name="view_mode">kanban,form,tree</field>
        </record>

    <!-- group by department and priority -->
    <record id="view_project_project_filter_inherit_ccpp" model="ir.ui.view">
        <field name="name">view.project.project.filter.inherit.ccpp</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project_project_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='groupby_stage']" position="after">
                <filter string="Department" name="groupby_department" context="{'group_by': 'department_id'}"/>
                <filter string="Priority" name="groupby_priority" context="{'group_by': 'priority_id'}"/>
                <filter string="Customer" name="groupby_customer" context="{'group_by': 'partner_id'}"/>
            </xpath>
        </field>
    </record>

    <record id="view_task_search_form_inherit_ccpp" model="ir.ui.view">
        <field name="name">view.task.search.form.inherit.ccpp</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_search_form"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='group_create_date']" position="after">
                <filter string="CCPP" name="groupby_ccpp" context="{'group_by': 'project_id'}"/>
                <filter string="Parent" name="groupby_parent" context="{'group_by': 'parent_id'}"/>
            </xpath>
        </field>
    </record>

    <record id="ccpp_group_all_tree" model="ir.ui.view">
        <field name="name">ccpp.group.all.tree</field>
        <field name="model">project.task</field>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>            
            </tree>
        </field>
    </record>

    <record id="ccpp_group_all_action" model="ir.actions.act_window">
        <field name="name">CCPP</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="ccpp.ccpp_group_all_tree"/>
        <field name="domain">[('is_strategy','=',True)]</field>
        <field name="context">{'search_default_customer': 1, 'search_default_groupby_ccpp': 1, 'search_default_groupby_parent': 1}</field>
        <field name="target">main</field>
    </record>

    <menuitem id="menu_ccpp_group_all_action" name="Test Group" parent="project.menu_project_config" action="ccpp_group_all_action" sequence="14"/>

    <record id="ccpp_group_all_tree_ccpp" model="ir.ui.view">
        <field name="name">ccpp.group.all.tree.ccpp</field>
        <field name="model">project.project</field>
        <field eval="101" name="priority"/>
        <field name="arch" type="xml">
            <tree string="test1">
                <field name="name"/>           
                <field name="tasks_solution">
                    <tree string="test2">
                        <field name="name"/>
                        <field name="child_ids">
                            <tree string="test3">
                                <field name="name"/>
                            </tree>
                        </field>
                    </tree>
                </field> 
            </tree>
        </field>
    </record>

    <record id="ccpp_group_all_action_ccpp" model="ir.actions.act_window">
        <field name="name">CCPP2</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="ccpp.ccpp_group_all_tree_ccpp"/>
        <field name="domain">[]</field>
        <field name="context">{'search_default_groupby_customer': 1}</field>
        <field name="target">main</field>
    </record>

    <menuitem id="menu_ccpp_group_all_action_ccpp" name="Test Group 2" parent="project.menu_project_config" action="ccpp_group_all_action_ccpp" sequence="15"/>    

    <!-- CCPP -->

    <record id="solution_search_form" model="ir.ui.view">  
        <field name="name">solution.search.form</field>
        <field name="model">project.task</field>
        <field name="arch" type="xml">
            <search string="Search Solution">
                <field name="name" string="Name" filter_domain="['|', ('name', 'ilike', self), ('id', 'ilike', self)]"/>
                <field name="user_ids" string="User" filter_domain="[('user_ids.name', 'ilike', self), ('user_ids.active', 'in', [True, False])]"/>
                <field name="state"/>
                <field name="partner_id" operator="child_of"/>
                <filter string="My Solution" name="my_tasks" domain="[('user_ids', 'in', uid)]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter string="State" name="groupby_state" context="{'group_by': 'stage_id'}"/>
                    <filter string="User" name="groupby_user" context="{'group_by': 'user_ids'}"/>
                    <filter string="Customer" name="groupby_customer" context="{'group_by': 'partner_id'}"/>
                    <filter string="CCPP" name="groupby_ccpp" context="{'group_by': 'project_id'}"/>
                    <filter string="Task Type" name="groupby_task_type" context="{'group_by': 'task_type'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="strategy_search_form" model="ir.ui.view">  
        <field name="name">strategy.search.form</field>
        <field name="model">project.task</field>
        <field name="arch" type="xml">
            <search string="Search Strategy">
                <field name="name" string="Strategy" filter_domain="['|', ('name', 'ilike', self), ('id', 'ilike', self)]"/>
                <field name="user_ids" string="User" filter_domain="[('user_ids.name', 'ilike', self), ('user_ids.active', 'in', [True, False])]"/>
                <field name="state"/>
                <field name="partner_id" operator="child_of"/>
                <filter string="My Solution" name="my_strategy" domain="[('user_ids', 'in', uid)]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter string="State" name="groupby_state" context="{'group_by': 'stage_id'}"/>
                    <filter string="User" name="groupby_user" context="{'group_by': 'user_ids'}"/>
                    <filter string="Customer" name="groupby_customer" context="{'group_by': 'partner_id'}"/>
                    <filter string="CCPP" name="groupby_ccpp" context="{'group_by': 'project_id'}"/>
                    <filter string="Solution" name="groupby_solution" context="{'group_by': 'parent_id'}"/>
                    <filter string="Task Type" name="groupby_task_type" context="{'group_by': 'task_type'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="ccpp_search_form" model="ir.ui.view">
        <field name="name">ccpp.search.form</field>
        <field name="model">project.project</field>
        <field name="arch" type="xml">
            <search string="Search CCPP">
                <field name="name" string="CCPP Title"/>
                <field name="code" string="CCPP No."/>
                <field name="department_id" string="Department"/>
                <field name="job_position_id" string="Job Position"/>
                <field name="user_id" string="CCPP User"/>
                <field name="partner_id" string="Customer" filter_domain="[('partner_id', 'child_of', self)]"/>
                <filter string="1st Priority" name="priority_1" domain="[('priority_id.point', '=', 1)]"/>
                <filter string="2nd Priority" name="priority_2" domain="[('priority_id.point', '=', 2)]"/>
                <filter string="3rd Priority" name="priority_3" domain="[('priority_id.point', '=', 3)]"/>
                <filter string="4th Priority" name="priority_4" domain="[('priority_id.point', '=', 4)]"/>
                <filter string="Undefine" name="undefine" domain="[('priority_select', '=', 'to_define')]"/>
                <separator/>
                <filter string="Open" name="open" domain="[('state', '=', 'open')]"/>
                <filter string="Waiting Approve" name="waiting_approve" domain="[('state', '=', 'waiting_approve')]"/>
                <filter string="Rejected" name="reject" domain="[('state', '=', 'reject')]"/>
                <filter string="On Process" name="on_process" domain="[('state', '=', 'process')]"/>
                <filter string="Done" name="done" domain="[('state','=','done')]"/>
                <filter string="Cancelled" name="cancel" domain="[('state','=','cancel')]"/>
                <filter string="Delayed" name="delay" domain="[('is_delay','=',True)]"/>
                <separator string="Department"/>
                <filter string="ACC (ฝ่ายบัญชี)" name="acc" domain="[('department_id.code', '=', 'ACC')]"/>
                <filter string="AMO (โครงการรับบริจาคเกล็ดเลือดนอกสถานที่)" name="amo" domain="[('department_id.code', '=', 'AMO')]"/>
                <filter string="BTM (Blood Tranfusion)" name="btm" domain="[('department_id.code', '=', 'BTM')]"/>
                <filter string="BUD (ฝ่ายพัฒนาธุรกิจ)" name="bud" domain="[('department_id.code', '=', 'BUD')]"/>
                <filter string="BUD2 (ฝ่ายพัฒนาธุรกิจ 2)" name="bud2" domain="[('department_id.code', '=', 'BUD2')]"/>
                <filter string="BUD3 (ฝ่ายพัฒนาธุรกิจ 3)" name="bud3" domain="[('department_id.code', '=', 'BUD3')]"/>
                <filter string="CCPP (CCPP IMPACT)" name="ccpp" domain="[('department_id.code', '=', 'CCPP')]"/>
                <filter string="CMK (Consumer Marketing)" name="cmk" domain="[('department_id.code', '=', 'CMK')]"/>
                <filter string="CMT (Cell and Molecular Technology)" name="cmt" domain="[('department_id.code', '=', 'CMT')]"/>
                <filter string="CSD (เลขานุการบริษัท Company Secretary Department)" name="csd" domain="[('department_id.code', '=', 'CSD')]"/>
                <filter string="ENG (ฝ่ายวิศวะบริการ)" name="eng" domain="[('department_id.code', '=', 'ENG')]"/>
                <filter string="FIN (ฝ่ายการเงิน)" name="fin" domain="[('department_id.code', '=', 'FIN')]"/>
                <filter string="HRM (ฝ่ายบริหารทรัพยากรมนุษย์)" name="hrm" domain="[('department_id.code', '=', 'HRM')]"/>
                <filter string="IAD (ฝ่ายตรวจสอบภายใน)" name="iad" domain="[('department_id.code', '=', 'IAD')]"/>
                <filter string="IRD (ฝ่ายนักลงทุนสัมพันธ์)" name="ird" domain="[('department_id.code', '=', 'IRD')]"/>
                <filter string="ISO (ฝ่ายบริหารระบบคุณภาพ)" name="iso" domain="[('department_id.code', '=', 'ISO')]"/>
                <filter string="LEG (ฝ่ายกฏหมาย)" name="leg" domain="[('department_id.code', '=', 'LEG')]"/>
                <filter string="MGT (ฝ่ายบริหาร  (Management - C Level))" name="mgt" domain="[('department_id.code', '=', 'MGT')]"/>
                <filter string="OMA (ฝ่ายกิจการสำนักงาน Office Management Department)" name="oma" domain="[('department_id.code', '=', 'OMA')]"/>
                <filter string="PRD (ฝ่ายประสานงานราชการและจัดซื้อ)" name="prd" domain="[('department_id.code', '=', 'PRD')]"/>
                <filter string="PRO (ฝ่ายผลิตภัณฑ์)" name="pro" domain="[('department_id.code', '=', 'PRO')]"/>
                <filter string="RID (ฝ่ายประสานงานราชการและนำเข้าส่งออก)" name="rid" domain="[('department_id.code', '=', 'RID')]"/>
                <filter string="SCO (ฝ่ายประสานงานขาย)" name="sco" domain="[('department_id.code', '=', 'SCO')]"/>
                <filter string="SRC (Sexual and Reproductive Care)" name="src" domain="[('department_id.code', '=', 'SRC')]"/>
                <filter string="SRT (Solar Roof Top)" name="srt" domain="[('department_id.code', '=', 'SRT')]"/>
                <filter string="WCL (Winmed Clinic and Laboratory)" name="wcl" domain="[('department_id.code', '=', 'WCL')]"/>
                <filter string="WHD (ฝ่ายคลังสินค้า)" name="whd" domain="[('department_id.code', '=', 'WHD')]"/>
                <group expand="0" string="Group By">
                    <filter string="Priority" name="groupby_priority" context="{'group_by': 'priority_id'}"/>
                    <filter string="CCPP User" name="groupby_user" context="{'group_by': 'user_id'}"/> 
                    <filter string="Customer" name="groupby_customer" context="{'group_by': 'partner_id'}"/>
                    <filter string="Department" name="groupby_department" context="{'group_by': 'department_id'}"/>
                    <filter string="State" name="groupby_state" context="{'group_by': 'state'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="ccpp_user_tree_view" model="ir.ui.view">
        <field name="name">ccpp.user.tree.view</field>
        <field name="model">project.project</field>
        <field eval="202" name="priority"/>
        <field name="arch" type="xml">
            <tree js_class="ccpp_tree" expand="0" default_order="partner_id" delete="1">
                <button type="action" name="ccpp.action_open_project_edit_form" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="name" string="CCPP" class="fw-bold"/>
                <field name="partner_id" string="Customer"/>
                <!--<field name="color" invisible="1"/>
                <field name="priority_select" string="Priority" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'color'}"/>-->
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                      
            </tree>
        </field>
    </record>

    <record id="ccpp_manager_tree_view" model="ir.ui.view">
        <field name="name">ccpp.manager.tree.view</field>
        <field name="model">project.project</field>
        <field eval="203" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="0" create="0">
                <button type="action" name="ccpp.action_open_project_edit_form" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="name" string="CCPP" class="fw-bold"/>
                <!--<field name="color" invisible="1"/>
                <field name="priority_select" string="Priority" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'color'}"/>-->
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
            </tree>
        </field>
    </record>

    <record id="action_all_ccpp_group_by_priority_manager" model="ir.actions.server">
        <field name="name">All CCPP</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="code">action = model.action_ccpp_department_group_by_priority_manager()</field>
    </record>

    <record id="action_all_ccpp_group_by_priority_manager_all_department_code" model="ir.actions.server">
        <field name="name">All CCPP</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="code">action = model.action_ccpp_department_group_by_priority_manager_all_department()</field>
    </record>

    <record id="action_all_ccpp_group_by_priority_ceo_code" model="ir.actions.server">
        <field name="name">All CCPP</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="code">action = model.action_ccpp_department_group_by_priority_ceo()</field>
    </record>

    <record id="action_my_ccpp_group_by_priority_user" model="ir.actions.server">
        <field name="name">My CCPP</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="code">action = model.action_my_ccpp_group_by_priority_user()</field>
    </record>

    <record id="action_all_ccpp_group_by_customer_manager" model="ir.actions.server">
        <field name="name">All CCPP Group by Customer</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="code">action = model.action_ccpp_department_group_by_customer_manager()</field>
    </record>

    <record id="solution_strategy_tree" model="ir.ui.view">
        <field name="name">solution.strategy.tree</field>
        <field name="model">project.task</field>
        <field eval="201" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="0" create="0" expand="1">
                <button type="action" name="ccpp.action_open_solution_strategy_edit_form" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="code" string="Strategy No." class="fw-bold"/>
                <field name="name" string="Strategy Title" class="fw-bold"/>
                <field name="task_last_situation_id" string="Current Situation"/>
                <field name="task_next_action" string="Next Action"/>
                <!--<field name="partner_id" string="Customer"/>
                <field name="start_date" string="Start Date"/>
                <field name="deadline_date" string="Deadline"/>-->
                <!--<field name="last_situation_solution_id" string="Current Situation"/>
                <field name="next_action_solution" string="Next Action"/>-->
                <field name="user_ids" widget="many2many_avatar_user" string="User"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <field name="is_owner" invisible="True"/>
                <button name="button_done" type="object" string="Done" class="btn-success ri-arrow-right-up-line me-2" attrs="{'invisible': ['|',('state','!=','process'),('is_owner','=',False)]}" confirm="Are you sure to done this strategy?"/>
                <button name="button_cancel_wizard" type="object" string="Cancel" class="btn-secondary-ccpp"   attrs="{'invisible': ['|',('state','!=','process'),('is_owner','=',False)]}"/>
                <!--<button name="action_open_strategy" type="object" title="View Detail" string="View Detail" class="btn btn-link float-end"/>-->
            </tree>
        </field>
    </record>

    <record id="action_solution_strategy_tree" model="ir.actions.act_window">
        <field name="name">Solution</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="strategy_search_form"/>
        <field name="context">{'search_default_groupby_solution': 1}</field>
        <field name="view_id" ref="solution_strategy_tree"/>
        <field name="target">main</field>
    </record>  

    <record id="strategy_tree" model="ir.ui.view">
        <field name="name">solution.strategy.tree</field>
        <field name="model">project.task</field>
        <field eval="202" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="1" create="0">
                <field name="name" string="Strategy"/>
                <field name="task_last_current_action" string="Current Situation"/>
                <field name="task_next_action" string="Next Action"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <field name="user_ids" widget="many2many_avatar_user" string="User"/>
            </tree>
        </field>
    </record>

    <record id="ccpp_report_tree_show_create_view" model="ir.ui.view">
        <field name="name">ccpp.report.tree.view</field>
        <field name="model">project.project</field>
        <field eval="201" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="1" create="0" expand="0" js_class="ccpp_dashboard_list" class="ccpp_list">
                <button type="object" name="check_view_step" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="code" string="CCPP No." readonly="1"/>
                <field name="name" string="CCPP Title" class="fw-bold" readonly="1"/>
                <field name="partner_id" string="Customer" readonly="1" options="{'no_open': True}"/>
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority" readonly="1"/>
                <field name="deadline_date" readonly="1"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <button name="action_open_solution" type="object" title="View Strategy" string="Strategy" class="btn btn-link float-end ri-eye-line"/>
            </tree>
        </field>
    </record>

    <record id="action_my_ccpp_group_by_priority" model="ir.actions.act_window">
        <field name="name">My CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,kanban,form,graph</field>
        <field name="context">{'search_default_groupby_priority': 0, 'show_create': '1', 'my_ccpp': True, 'create_from_tree': True}</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_show_create_view"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="target">main</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No CCPP found. Let's create one!
            </p>
        </field>
    </record>

    <record id="action_my_ccpp_group_by_customer" model="ir.actions.act_window">
        <field name="name">My CCPP Group by Customer</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="context">{'search_default_groupby_customer': 1, 'show_create': '1', 'create_from_tree': True}</field>
        <field name="domain">[('user_id', '=', uid)]</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_show_create_view"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="target">main</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No CCPP found. Let's create one!
            </p>
        </field>
    </record>

    <record id="ccpp_report_tree_hide_create_view" model="ir.ui.view">
        <field name="name">ccpp.report.tree.view</field>
        <field name="model">project.project</field>
        <field eval="201" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="0" create="0" expand="0" js_class="ccpp_dashboard_list_manager" class="ccpp_list">
                <button type="action" name="ccpp.action_open_project_edit_form" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="code" string="CCPP No."/>
                <field name="name" string="CCPP Title" class="fw-bold"/>
                <field name="partner_id" string="Customer"/>
                <!--<field name="color" invisible="1"/>
                <field name="priority_select" string="Priority" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'color'}"/>-->
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority"/>
                <field name="deadline_date"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <field name="employee_id" string="User"/>
                <button name="action_open_solution" type="object" title="Strategy" string="Strategy" class="btn btn-link float-end ri-eye-line"/>
            </tree>
        </field>
    </record>

    <record id="ccpp_report_tree_hide_create_view_manager_all_department" model="ir.ui.view">
        <field name="name">ccpp.report.tree.view</field>
        <field name="model">project.project</field>
        <field eval="202" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="0" create="0" expand="0" js_class="ccpp_dashboard_list_manager_all_department" class="ccpp_list">
                <button type="action" name="ccpp.action_open_project_edit_form" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="code" string="CCPP No."/>
                <field name="name" string="CCPP Title" class="fw-bold"/>
                <field name="partner_id" string="Customer"/>
                <!--<field name="color" invisible="1"/>
                <field name="priority_select" string="Priority" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'color'}"/>-->
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority"/>
                <field name="deadline_date"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <field name="employee_id" string="User"/>
                <button name="action_open_solution" type="object" title="Strategy" string="Strategy" class="btn btn-link float-end ri-eye-line"/>
            </tree>
        </field>
    </record>

    <record id="ccpp_report_tree_hide_create_view_ceo" model="ir.ui.view">
        <field name="name">ccpp.report.tree.view</field>
        <field name="model">project.project</field>
        <field eval="203" name="priority"/>
        <field name="arch" type="xml">
            <tree delete="0" create="0" expand="0" js_class="ccpp_dashboard_list_ceo" class="ccpp_list">
                <button type="object" name="check_view_step" icon="fa-folder-open-o" class="oe_highlight"/>
                <field name="code" string="CCPP No."/>
                <field name="name" string="CCPP Title" class="fw-bold"/>
                <field name="partner_id" string="Customer"/>
                <!--<field name="color" invisible="1"/>
                <field name="priority_select" string="Priority" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'color'}"/>-->
                <field name="priority_select" decoration-danger="priority_select in ['1','2']" string="Priority"/>
                <field name="deadline_date"/>
                <field name="show_period" string="Period"/>
                <field name="state_color" invisible="1"/>
                <field name="state" string="State" readonly="True" widget="status_with_color_ccpp" options="{'color_field': 'state_color'}"/>
                <field name="employee_id" string="User"/>
                <button name="action_open_solution" type="object" title="Strategy" string="Strategy" class="btn btn-link float-end ri-eye-line"/>
            </tree>
        </field>
    </record>

    <record id="action_all_ccpp_group_by_priority" model="ir.actions.act_window">
        <field name="name">All CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,kanban,form,graph</field>
        <field name="context">{'search_default_groupby_priority': 0, 'show_create': '0', 'all_ccpp': True, }</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_hide_create_view"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="domain">[('user_id','=',uid)]</field>
        <field name="target">main</field>
    </record>

    <record id="action_all_ccpp_group_by_priority_manager_all_department" model="ir.actions.act_window">
        <field name="name">All CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,kanban,form,graph</field>
        <field name="context">{'search_default_groupby_priority': 0, 'show_create': '0', 'all_ccpp': True, }</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_hide_create_view_manager_all_department"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="domain">[('user_id','=',uid)]</field>
        <field name="target">main</field>
    </record>

    <record id="action_all_ccpp_group_by_priority_ceo" model="ir.actions.act_window">
        <field name="name">All CCPP</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,kanban,form,graph</field>
        <field name="context">{'search_default_groupby_priority': 0, 'show_create': '0', 'all_ccpp': True, }</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_hide_create_view_ceo"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="domain">[('user_id','=',uid)]</field>
        <field name="target">main</field>
    </record>

    <record id="action_all_ccpp_group_by_customer" model="ir.actions.act_window">
        <field name="name">All CCPP Group by Customer</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="ccpp.ccpp_report_tree_hide_create_view"/>
        <field name="search_view_id" ref="ccpp_search_form"/>
        <field name="domain">[]</field>
        <field name="context">{'search_default_groupby_customer': 1, 'show_create': '0'}</field>
        <field name="target">main</field>
    </record>

    <menuitem name="My CCPP" id="menu_my_ccpp" parent="project.menu_main_pm" action="action_my_ccpp_group_by_priority_user" sequence="1"/>

        <!--<menuitem name="My CCPP Group by Priority" id="menu_my_ccpp_group_by_priority" parent="menu_my_ccpp" action="action_my_ccpp_group_by_priority" sequence="1"/>

        <menuitem name="My CCPP Group by Customer" id="menu_my_ccpp_group_by_customer" parent="menu_my_ccpp" action="action_my_ccpp_group_by_customer" sequence="2"/>-->


    <!--<menuitem name="All CCPP" id="menu_all_ccpp_user" groups="ccpp.group_ccpp_user" parent="project.menu_main_pm" sequence="2"/>

        <menuitem name="All CCPP Group by Priority" id="menu_all_ccpp_group_by_priority_user" parent="menu_all_ccpp_user" action="action_all_ccpp_group_by_priority_user" sequence="1" />

        <menuitem name="All CCPP Group by Customer" id="menu_all_ccpp_group_by_customer_user" parent="menu_all_ccpp_user" action="action_all_ccpp_group_by_customer_user" sequence="2" />-->

    <menuitem name="All CCPP" id="menu_all_ccpp_manager" groups="ccpp.group_ccpp_frontoffice_manager,ccpp.group_ccpp_backoffice_manager" action="action_all_ccpp_group_by_priority_manager" parent="project.menu_main_pm" sequence="2"/>

    <menuitem name="All CCPP" id="menu_all_ccpp_manager_all_department" groups="ccpp.group_ccpp_backoffice_manager_all_department,ccpp.group_ccpp_frontoffice_manager_all_department" action="action_all_ccpp_group_by_priority_manager_all_department_code" parent="project.menu_main_pm" sequence="3"/>

    <menuitem name="All CCPP" id="menu_all_ccpp_manager_ceo" groups="ccpp.group_ccpp_ceo" action="action_all_ccpp_group_by_priority_ceo_code" parent="project.menu_main_pm" sequence="4"/>


        <!--<menuitem name="All CCPP Group by Priority" id="menu_all_ccpp_group_by_priority_manager" parent="menu_all_ccpp_manager" action="action_all_ccpp_group_by_priority_manager" sequence="1"/>

        <menuitem name="All CCPP Group by Customer" id="menu_all_ccpp_group_by_customer_manager" parent="menu_all_ccpp_manager" action="action_all_ccpp_group_by_customer_manager" sequence="2"/>-->


<!-- Menu / action change name -->
        <record model="ir.ui.menu" id="project.menu_main_pm">
            <field name="name">CCPPOS</field>
        </record>

        <record model="ir.ui.menu" id="project.menu_main_pm">
            <field name="sequence" eval="3"></field>
        </record>

        <record model="ir.ui.menu" id="project.menu_project_report_task_analysis">
            <field name="action" eval="False"></field>
        </record>

        <record model="ir.ui.menu" id="project.menu_projects">
            <field name="name">My CCPP</field>
            <field name="action" eval="False"/>
        </record>

        <record model="ir.ui.menu" id="project.menu_projects_group_stage">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.ui.menu" id="project.menu_projects_config">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.ui.menu" id="project.menu_projects_config_group_stage">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.actions.act_window" id="project.open_view_project_all">
            <field name="name">CCPP</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" eval="False"/>
        </record>

        <record model="ir.actions.act_window" id="project.open_view_project_all_group_stage">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.actions.act_window" id="project.open_view_project_all_config">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.actions.act_window" id="project.open_view_project_all_config_group_stage">
            <field name="name">CCPP</field>
        </record>

        <record model="ir.actions.act_window" id="project.project_project_stage_configure">
            <field name="name">CCPP Stages</field>
        </record>

        <record model="ir.ui.menu" id="project.menu_project_config_project_stage">
            <field name="name">CCPP Stages</field>
        </record>

        <record model="ir.actions.act_window" id="project.open_create_project">
            <field name="name">Create CCPP</field>
        </record>

        <record model="ir.actions.act_window" id="project.act_res_users_2_project_task_opened">
            <field name="context">{}</field>
        </record>

        <record model="ir.ui.menu" id="project.menu_project_config_project">
            <field name="action" eval="False"/>
        </record>

        <record model="ir.ui.menu" id="project.menu_project_tags_act">
            <field name="action" eval="False"/>
        </record>

        <!-- hidden report -->
        <record model="ir.actions.report" id="hr_timesheet.timesheet_report_project">
            <field name="binding_model_id" eval="False"/>
        </record>

</odoo>